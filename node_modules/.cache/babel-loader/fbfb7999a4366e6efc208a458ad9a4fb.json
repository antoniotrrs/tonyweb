{"ast":null,"code":"import _objectSpread from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { Fragment as _Fragment, mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\"; // Styles\n\nimport \"./VCarousel.css\"; // Components\n\nimport { VBtn } from \"../VBtn/index.js\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.js\";\nimport { VProgressLinear } from \"../VProgressLinear/index.js\";\nimport { makeVWindowProps, VWindow } from \"../VWindow/VWindow.js\"; // Composables\n\nimport { IconValue } from \"../../composables/icons.js\";\nimport { useLocale } from \"../../composables/locale.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\"; // Utilities\n\nimport { onMounted, ref, watch } from 'vue';\nimport { convertToUnit, genericComponent, propsFactory, useRender } from \"../../util/index.js\"; // Types\n\nexport var makeVCarouselProps = propsFactory(_objectSpread({\n  color: String,\n  cycle: Boolean,\n  delimiterIcon: {\n    type: IconValue,\n    default: '$delimiter'\n  },\n  height: {\n    type: [Number, String],\n    default: 500\n  },\n  hideDelimiters: Boolean,\n  hideDelimiterBackground: Boolean,\n  interval: {\n    type: [Number, String],\n    default: 6000,\n    validator: function validator(value) {\n      return Number(value) > 0;\n    }\n  },\n  progress: [Boolean, String],\n  verticalDelimiters: [Boolean, String]\n}, makeVWindowProps({\n  continuous: true,\n  mandatory: 'force',\n  showArrows: true\n})), 'VCarousel');\nexport var VCarousel = genericComponent()({\n  name: 'VCarousel',\n  props: makeVCarouselProps(),\n  emits: {\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var model = useProxiedModel(props, 'modelValue');\n\n    var _useLocale = useLocale(),\n        t = _useLocale.t;\n\n    var windowRef = ref();\n    var slideTimeout = -1;\n    watch(model, restartTimeout);\n    watch(function () {\n      return props.interval;\n    }, restartTimeout);\n    watch(function () {\n      return props.cycle;\n    }, function (val) {\n      if (val) restartTimeout();else window.clearTimeout(slideTimeout);\n    });\n    onMounted(startTimeout);\n\n    function startTimeout() {\n      if (!props.cycle || !windowRef.value) return;\n      slideTimeout = window.setTimeout(windowRef.value.group.next, Number(props.interval) > 0 ? Number(props.interval) : 6000);\n    }\n\n    function restartTimeout() {\n      window.clearTimeout(slideTimeout);\n      window.requestAnimationFrame(startTimeout);\n    }\n\n    useRender(function () {\n      var windowProps = VWindow.filterProps(props);\n      return _createVNode(VWindow, _mergeProps({\n        \"ref\": windowRef\n      }, windowProps, {\n        \"modelValue\": model.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return model.value = $event;\n        },\n        \"class\": ['v-carousel', {\n          'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n          'v-carousel--vertical-delimiters': props.verticalDelimiters\n        }, props.class],\n        \"style\": [{\n          height: convertToUnit(props.height)\n        }, props.style]\n      }), {\n        default: slots.default,\n        additional: function additional(_ref2) {\n          var group = _ref2.group;\n          return _createVNode(_Fragment, null, [!props.hideDelimiters && _createVNode(\"div\", {\n            \"class\": \"v-carousel__controls\",\n            \"style\": {\n              left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n              right: props.verticalDelimiters === 'right' ? 0 : 'auto'\n            }\n          }, [group.items.value.length > 0 && _createVNode(VDefaultsProvider, {\n            \"defaults\": {\n              VBtn: {\n                color: props.color,\n                icon: props.delimiterIcon,\n                size: 'x-small',\n                variant: 'text'\n              }\n            },\n            \"scoped\": true\n          }, {\n            default: function _default() {\n              return [group.items.value.map(function (item, index) {\n                var props = {\n                  id: \"carousel-item-\".concat(item.id),\n                  'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                  class: ['v-carousel__controls__item', group.isSelected(item.id) && 'v-btn--active'],\n                  onClick: function onClick() {\n                    return group.select(item.id, true);\n                  }\n                };\n                return slots.item ? slots.item({\n                  props: props,\n                  item: item\n                }) : _createVNode(VBtn, _mergeProps(item, props), null);\n              })];\n            }\n          })]), props.progress && _createVNode(VProgressLinear, {\n            \"class\": \"v-carousel__progress\",\n            \"color\": typeof props.progress === 'string' ? props.progress : undefined,\n            \"modelValue\": (group.getItemIndex(model.value) + 1) / group.items.value.length * 100\n          }, null)]);\n        },\n        prev: slots.prev,\n        next: slots.next\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"mappings":"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","names":["VBtn","VDefaultsProvider","VProgressLinear","makeVWindowProps","VWindow","IconValue","useLocale","useProxiedModel","onMounted","ref","watch","convertToUnit","genericComponent","propsFactory","useRender","makeVCarouselProps","color","String","cycle","Boolean","delimiterIcon","type","default","height","Number","hideDelimiters","hideDelimiterBackground","interval","validator","value","progress","verticalDelimiters","continuous","mandatory","showArrows","VCarousel","name","props","emits","setup","_ref","slots","model","t","windowRef","slideTimeout","restartTimeout","val","window","clearTimeout","startTimeout","setTimeout","group","next","requestAnimationFrame","windowProps","filterProps","$event","class","style","additional","_ref2","_createVNode","left","right","items","length","icon","size","variant","map","item","index","id","isSelected","onClick","select","undefined","getItemIndex","prev"],"sources":["../../../src/components/VCarousel/VCarousel.tsx"],"sourcesContent":["// Styles\nimport './VCarousel.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VProgressLinear } from '@/components/VProgressLinear'\nimport { makeVWindowProps, VWindow } from '@/components/VWindow/VWindow'\n\n// Composables\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { onMounted, ref, watch } from 'vue'\nimport { convertToUnit, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VWindowSlots } from '@/components/VWindow/VWindow'\nimport type { GroupProvide } from '@/composables/group'\nimport type { GenericProps } from '@/util'\n\nexport const makeVCarouselProps = propsFactory({\n  color: String,\n  cycle: Boolean,\n  delimiterIcon: {\n    type: IconValue,\n    default: '$delimiter',\n  },\n  height: {\n    type: [Number, String],\n    default: 500,\n  },\n  hideDelimiters: Boolean,\n  hideDelimiterBackground: Boolean,\n  interval: {\n    type: [Number, String],\n    default: 6000,\n    validator: (value: string | number) => Number(value) > 0,\n  },\n  progress: [Boolean, String],\n  verticalDelimiters: [Boolean, String] as PropType<boolean | 'left' | 'right'>,\n\n  ...makeVWindowProps({\n    continuous: true,\n    mandatory: 'force' as const,\n    showArrows: true,\n  }),\n}, 'VCarousel')\n\ntype VCarouselSlots = VWindowSlots & {\n  item: {\n    props: Record<string, any>\n    item: {\n      id: string\n      value: unknown\n      disabled: boolean | undefined\n    }\n  }\n}\n\nexport const VCarousel = genericComponent<new <T>(\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n  },\n  slots: VCarouselSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VCarousel',\n\n  props: makeVCarouselProps(),\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const { t } = useLocale()\n    const windowRef = ref<VWindow>()\n\n    let slideTimeout = -1\n    watch(model, restartTimeout)\n    watch(() => props.interval, restartTimeout)\n    watch(() => props.cycle, val => {\n      if (val) restartTimeout()\n      else window.clearTimeout(slideTimeout)\n    })\n\n    onMounted(startTimeout)\n\n    function startTimeout () {\n      if (!props.cycle || !windowRef.value) return\n\n      slideTimeout = window.setTimeout(\n        windowRef.value.group.next,\n        Number(props.interval) > 0 ? Number(props.interval) : 6000\n      )\n    }\n\n    function restartTimeout () {\n      window.clearTimeout(slideTimeout)\n      window.requestAnimationFrame(startTimeout)\n    }\n\n    useRender(() => {\n      const windowProps = VWindow.filterProps(props)\n\n      return (\n        <VWindow\n          ref={ windowRef }\n          { ...windowProps }\n          v-model={ model.value }\n          class={[\n            'v-carousel',\n            {\n              'v-carousel--hide-delimiter-background': props.hideDelimiterBackground,\n              'v-carousel--vertical-delimiters': props.verticalDelimiters,\n            },\n            props.class,\n          ]}\n          style={[\n            { height: convertToUnit(props.height) },\n            props.style,\n          ]}\n        >\n          {{\n            default: slots.default,\n            additional: ({ group }: { group: GroupProvide }) => (\n              <>\n                { !props.hideDelimiters && (\n                  <div\n                    class=\"v-carousel__controls\"\n                    style={{\n                      left: props.verticalDelimiters === 'left' && props.verticalDelimiters ? 0 : 'auto',\n                      right: props.verticalDelimiters === 'right' ? 0 : 'auto',\n                    }}\n                  >\n                    { group.items.value.length > 0 && (\n                      <VDefaultsProvider\n                        defaults={{\n                          VBtn: {\n                            color: props.color,\n                            icon: props.delimiterIcon,\n                            size: 'x-small',\n                            variant: 'text',\n                          },\n                        }}\n                        scoped\n                      >\n                        { group.items.value.map((item, index) => {\n                          const props = {\n                            id: `carousel-item-${item.id}`,\n                            'aria-label': t('$vuetify.carousel.ariaLabel.delimiter', index + 1, group.items.value.length),\n                            class: [\n                              'v-carousel__controls__item',\n                              group.isSelected(item.id) && 'v-btn--active',\n                            ],\n                            onClick: () => group.select(item.id, true),\n                          }\n\n                          return slots.item\n                            ? slots.item({ props, item })\n                            : (<VBtn { ...item } { ...props } />)\n                        })}\n                      </VDefaultsProvider>\n                    )}\n                  </div>\n                )}\n\n                { props.progress && (\n                  <VProgressLinear\n                    class=\"v-carousel__progress\"\n                    color={ typeof props.progress === 'string' ? props.progress : undefined }\n                    modelValue={ (group.getItemIndex(model.value) + 1) / group.items.value.length * 100 }\n                  />\n                )}\n              </>\n            ),\n            prev: slots.prev,\n            next: slots.next,\n          }}\n        </VWindow>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VCarousel = InstanceType<typeof VCarousel>\n"]},"metadata":{},"sourceType":"module"}