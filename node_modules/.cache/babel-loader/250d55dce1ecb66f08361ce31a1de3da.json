{"ast":null,"code":"import _objectSpread from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\"; // Composables\n\nimport { makeComponentProps } from \"../../composables/component.js\";\nimport { useResizeObserver } from \"../../composables/resizeObserver.js\"; // Utilities\n\nimport { watch } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.js\"; // Types\n\nexport var makeVVirtualScrollItemProps = propsFactory(_objectSpread({\n  renderless: Boolean\n}, makeComponentProps()), 'VVirtualScrollItem');\nexport var VVirtualScrollItem = genericComponent()({\n  name: 'VVirtualScrollItem',\n  inheritAttrs: false,\n  props: makeVVirtualScrollItemProps(),\n  emits: {\n    'update:height': function updateHeight(height) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        emit = _ref.emit,\n        slots = _ref.slots;\n\n    var _useResizeObserver = useResizeObserver(undefined, 'border'),\n        resizeRef = _useResizeObserver.resizeRef,\n        contentRect = _useResizeObserver.contentRect;\n\n    watch(function () {\n      var _contentRect$value;\n\n      return (_contentRect$value = contentRect.value) === null || _contentRect$value === void 0 ? void 0 : _contentRect$value.height;\n    }, function (height) {\n      if (height != null) emit('update:height', height);\n    });\n    useRender(function () {\n      var _slots$default, _slots$default2;\n\n      return props.renderless ? _createVNode(_Fragment, null, [(_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots, {\n        itemRef: resizeRef\n      })]) : _createVNode(\"div\", _mergeProps({\n        \"ref\": resizeRef,\n        \"class\": ['v-virtual-scroll__item', props.class],\n        \"style\": props.style\n      }, attrs), [(_slots$default2 = slots.default) === null || _slots$default2 === void 0 ? void 0 : _slots$default2.call(slots)]);\n    });\n  }\n});","map":{"version":3,"mappings":";qGAAA;;AAAA,SACSA,kBADT,QAC2B,gCAD3B;AAC2B,SAClBC,iBADkB,QACD,qCADC,C,CAG3B;;AACA,SAASC,KAAT,QAAsB,KAAtB;AAA2B,SAClBC,gBADkB,EACAC,YADA,EACcC,SADd,QACuB,qBADvB,C,CAG3B;;AAGA,OAAO,IAAMC,2BAA2B,GAAGF,YAAY;AACrDG,YAAU,EAAEC;AADyC,GAGlDR,kBAAkB,EAHgC,GAIpD,oBAJoD,CAAhD;AAMP,OAAO,IAAMS,kBAAkB,GAAGN,gBAAgB,GASD;AAC/CO,MAAI,EAAE,oBADyC;AAG/CC,cAAY,EAAE,KAHiC;AAK/CC,OAAK,EAAEN,2BAA2B,EALa;AAO/CO,OAAK,EAAE;AACL,qBAAkBC,4BAAc;AAAA,aAAK,IAAL;AAAA;AAD3B,GAPwC;AAW/CC,OAX+C,iBAWxCH,KAXwC,EAWnCI,IAXmC,EAWT;AAAA,QAAtBC,KAAsB,GAAFD,IAAE,CAAtBC,KAAsB;AAAA,QAAfC,IAAe,GAAFF,IAAE,CAAfE,IAAe;AAAA,QAATC,KAAS,GAAFH,IAAE,CAATG,KAAS;;AACpC,6BAAmClB,iBAAiB,CAACmB,SAAD,EAAY,QAAZ,CAApD;AAAA,QAAQC,SAAR,sBAAQA,SAAR;AAAA,QAAmBC,WAAnB,sBAAmBA,WAAnB;;AAEApB,SAAK,CAAC;AAAA;;AAAA,mCAAMoB,WAAW,CAACC,KAAlB,uDAAMD,mBAAmBR,MAAzB;AAAA,KAAD,EAAkCA,gBAAM,EAAI;AAC/C,UAAIA,MAAM,IAAI,IAAd,EAAoBI,IAAI,CAAC,eAAD,EAAkBJ,MAAlB,CAAJI;AACrB,KAFI,CAALhB;AAIAG,aAAS,CAAC;AAAA;;AAAA,aAAMO,KAAK,CAACL,UAANK,GAAgBY,iDAE1BL,KAAK,CAACM,OAFoB,mDAE1BN,yBAAK,EAAW;AAAEO,eAAO,EAAEL;AAAX,OAAX,CAFqB,EAAhBT,GAE6BY;AAAA,eAInCH,SAJmC;AAI1B,iBACR,CACL,wBADK,EAELT,KAAK,CAACe,KAFD,CALkC;AAQxC,iBACOf,KAAK,CAACgB;AAT2B,SAUpCX,KAVoC,GAU/B,oBAEPE,KAAK,CAACM,OAFC,oDAEPN,0BAAK,CAFE,CAV+B,CAFnC;AAAA,KAAD,CAATd;AAiBF;AAnC+C,CATC,CAA3C","names":["makeComponentProps","useResizeObserver","watch","genericComponent","propsFactory","useRender","makeVVirtualScrollItemProps","renderless","Boolean","VVirtualScrollItem","name","inheritAttrs","props","emits","height","setup","_ref","attrs","emit","slots","undefined","resizeRef","contentRect","value","_createVNode","default","itemRef","class","style"],"sources":["../../../src/components/VVirtualScroll/VVirtualScrollItem.tsx"],"sourcesContent":["// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { useResizeObserver } from '@/composables/resizeObserver'\n\n// Utilities\nimport { watch } from 'vue'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { GenericProps, TemplateRef } from '@/util'\n\nexport const makeVVirtualScrollItemProps = propsFactory({\n  renderless: Boolean,\n\n  ...makeComponentProps(),\n}, 'VVirtualScrollItem')\n\nexport const VVirtualScrollItem = genericComponent<new <Renderless extends boolean = false>(\n  props: {\n    renderless?: Renderless\n  },\n  slots: {\n    default: Renderless extends true ? {\n      itemRef: TemplateRef\n    } : never\n  }\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VVirtualScrollItem',\n\n  inheritAttrs: false,\n\n  props: makeVVirtualScrollItemProps(),\n\n  emits: {\n    'update:height': (height: number) => true,\n  },\n\n  setup (props, { attrs, emit, slots }) {\n    const { resizeRef, contentRect } = useResizeObserver(undefined, 'border')\n\n    watch(() => contentRect.value?.height, height => {\n      if (height != null) emit('update:height', height)\n    })\n\n    useRender(() => props.renderless ? (\n      <>\n        { slots.default?.({ itemRef: resizeRef }) }\n      </>\n    ) : (\n      <div\n        ref={ resizeRef }\n        class={[\n          'v-virtual-scroll__item',\n          props.class,\n        ]}\n        style={ props.style }\n        { ...attrs }\n      >\n        { (slots.default as any)?.() }\n      </div>\n    ))\n  },\n})\n"]},"metadata":{},"sourceType":"module"}