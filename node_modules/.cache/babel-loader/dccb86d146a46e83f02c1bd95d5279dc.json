{"ast":null,"code":"import { vShow as _vShow, mergeProps as _mergeProps, createVNode as _createVNode, withDirectives as _withDirectives } from \"vue\"; // Styles\n\nimport \"./VFab.css\"; // Components\n\nimport { makeVBtnProps, VBtn } from \"../VBtn/VBtn.js\"; // Composables\n\nimport { makeLayoutItemProps, useLayoutItem } from \"../../composables/layout.js\";\nimport { makeLocationProps } from \"../../composables/location.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\";\nimport { useResizeObserver } from \"../../composables/resizeObserver.js\";\nimport { useToggleScope } from \"../../composables/toggleScope.js\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.js\"; // Utilities\n\nimport { computed, ref, shallowRef, toRef, watchEffect } from 'vue';\nimport { genericComponent, omit, propsFactory, useRender } from \"../../util/index.js\"; // Types\n\nexport const makeVFabProps = propsFactory({\n  app: Boolean,\n  appear: Boolean,\n  extended: Boolean,\n  layout: Boolean,\n  offset: Boolean,\n  modelValue: {\n    type: Boolean,\n    default: true\n  },\n  ...omit(makeVBtnProps({\n    active: true\n  }), ['location']),\n  ...makeLayoutItemProps(),\n  ...makeLocationProps(),\n  ...makeTransitionProps({\n    transition: 'fab-transition'\n  })\n}, 'VFab');\nexport const VFab = genericComponent()({\n  name: 'VFab',\n  props: makeVFabProps(),\n  emits: {\n    'update:modelValue': value => true\n  },\n\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const model = useProxiedModel(props, 'modelValue');\n    const height = shallowRef(56);\n    const layoutItemStyles = ref();\n    const {\n      resizeRef\n    } = useResizeObserver(entries => {\n      if (!entries.length) return;\n      height.value = entries[0].target.clientHeight;\n    });\n    const hasPosition = computed(() => props.app || props.absolute);\n    const position = computed(() => {\n      if (!hasPosition.value) return false;\n      return props.location?.split(' ').shift() ?? 'bottom';\n    });\n    const orientation = computed(() => {\n      if (!hasPosition.value) return false;\n      return props.location?.split(' ')[1] ?? 'end';\n    });\n    useToggleScope(() => props.app, () => {\n      const layout = useLayoutItem({\n        id: props.name,\n        order: computed(() => parseInt(props.order, 10)),\n        position,\n        layoutSize: computed(() => props.layout ? height.value + 24 : 0),\n        elementSize: computed(() => height.value + 24),\n        active: computed(() => props.app && model.value),\n        absolute: toRef(props, 'absolute')\n      });\n      watchEffect(() => {\n        layoutItemStyles.value = layout.layoutItemStyles.value;\n      });\n    });\n    const vFabRef = ref();\n    useRender(() => {\n      const btnProps = VBtn.filterProps(props);\n      return _createVNode(\"div\", {\n        \"ref\": vFabRef,\n        \"class\": ['v-fab', {\n          'v-fab--absolute': props.absolute,\n          'v-fab--app': !!props.app,\n          'v-fab--extended': props.extended,\n          'v-fab--offset': props.offset,\n          [`v-fab--${position.value}`]: hasPosition.value,\n          [`v-fab--${orientation.value}`]: hasPosition.value\n        }, props.class],\n        \"style\": [props.app ? { ...layoutItemStyles.value\n        } : {\n          height: props.absolute ? '100%' : 'inherit'\n        }, props.style]\n      }, [_createVNode(\"div\", {\n        \"class\": \"v-fab__container\"\n      }, [_createVNode(MaybeTransition, {\n        \"appear\": props.appear,\n        \"transition\": props.transition\n      }, {\n        default: () => [_withDirectives(_createVNode(VBtn, _mergeProps({\n          \"ref\": resizeRef\n        }, btnProps, {\n          \"active\": undefined,\n          \"location\": undefined\n        }), slots), [[_vShow, props.active]])]\n      })])]);\n    });\n    return {};\n  }\n\n});","map":{"version":3,"mappings":"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","names":["makeVBtnProps","VBtn","makeLayoutItemProps","useLayoutItem","makeLocationProps","useProxiedModel","useResizeObserver","useToggleScope","makeTransitionProps","MaybeTransition","computed","ref","shallowRef","toRef","watchEffect","genericComponent","omit","propsFactory","useRender","makeVFabProps","app","Boolean","appear","extended","layout","offset","modelValue","type","default","active","transition","VFab","name","props","emits","value","setup","_ref","slots","model","height","layoutItemStyles","resizeRef","entries","length","target","clientHeight","hasPosition","absolute","position","location","split","shift","orientation","id","order","parseInt","layoutSize","elementSize","vFabRef","btnProps","filterProps","class","style","undefined"],"sources":["../../../src/components/VFab/VFab.tsx"],"sourcesContent":["// Styles\nimport './VFab.sass'\n\n// Components\nimport { makeVBtnProps, VBtn } from '@/components/VBtn/VBtn'\n\n// Composables\nimport { makeLayoutItemProps, useLayoutItem } from '@/composables/layout'\nimport { makeLocationProps } from '@/composables/location'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useResizeObserver } from '@/composables/resizeObserver'\nimport { useToggleScope } from '@/composables/toggleScope'\nimport { makeTransitionProps, MaybeTransition } from '@/composables/transition'\n\n// Utilities\nimport { computed, ref, shallowRef, toRef, watchEffect } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { ComputedRef } from 'vue'\nimport type { Position } from '@/composables/layout'\n\nexport const makeVFabProps = propsFactory({\n  app: Boolean,\n  appear: Boolean,\n  extended: Boolean,\n  layout: Boolean,\n  offset: Boolean,\n  modelValue: {\n    type: Boolean,\n    default: true,\n  },\n\n  ...omit(makeVBtnProps({ active: true }), ['location']),\n  ...makeLayoutItemProps(),\n  ...makeLocationProps(),\n  ...makeTransitionProps({ transition: 'fab-transition' }),\n}, 'VFab')\n\nexport const VFab = genericComponent()({\n  name: 'VFab',\n\n  props: makeVFabProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const height = shallowRef(56)\n    const layoutItemStyles = ref()\n\n    const { resizeRef } = useResizeObserver(entries => {\n      if (!entries.length) return\n      height.value = entries[0].target.clientHeight\n    })\n\n    const hasPosition = computed(() => props.app || props.absolute)\n\n    const position = computed(() => {\n      if (!hasPosition.value) return false\n\n      return props.location?.split(' ').shift() ?? 'bottom'\n    }) as ComputedRef<Position>\n\n    const orientation = computed(() => {\n      if (!hasPosition.value) return false\n\n      return props.location?.split(' ')[1] ?? 'end'\n    })\n\n    useToggleScope(() => props.app, () => {\n      const layout = useLayoutItem({\n        id: props.name,\n        order: computed(() => parseInt(props.order, 10)),\n        position,\n        layoutSize: computed(() => props.layout ? height.value + 24 : 0),\n        elementSize: computed(() => height.value + 24),\n        active: computed(() => props.app && model.value),\n        absolute: toRef(props, 'absolute'),\n      })\n\n      watchEffect(() => {\n        layoutItemStyles.value = layout.layoutItemStyles.value\n      })\n    })\n\n    const vFabRef = ref()\n\n    useRender(() => {\n      const btnProps = VBtn.filterProps(props)\n\n      return (\n        <div\n          ref={ vFabRef }\n          class={[\n            'v-fab',\n            {\n              'v-fab--absolute': props.absolute,\n              'v-fab--app': !!props.app,\n              'v-fab--extended': props.extended,\n              'v-fab--offset': props.offset,\n              [`v-fab--${position.value}`]: hasPosition.value,\n              [`v-fab--${orientation.value}`]: hasPosition.value,\n            },\n            props.class,\n          ]}\n          style={[\n            props.app\n              ? { ...layoutItemStyles.value }\n              : {\n                height: props.absolute\n                  ? '100%'\n                  : 'inherit',\n              },\n            props.style,\n          ]}\n        >\n          <div class=\"v-fab__container\">\n            <MaybeTransition\n              appear={ props.appear }\n              transition={ props.transition }\n            >\n              <VBtn\n                v-show={ props.active }\n                ref={ resizeRef }\n                { ...btnProps }\n                active={ undefined }\n                location={ undefined }\n                v-slots={ slots }\n              />\n            </MaybeTransition>\n          </div>\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VFab = InstanceType<typeof VFab>\n"]},"metadata":{},"sourceType":"module"}