{"ast":null,"code":"import _slicedToArray from \"/Users/antoniotorres/Documents/tony/tony/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.object.from-entries.js\";\n// Utilities\nimport { computed, inject, provide, ref, shallowRef, unref, watchEffect } from 'vue';\nimport { getCurrentInstance } from \"../util/getCurrentInstance.js\";\nimport { mergeDeep, toKebabCase } from \"../util/helpers.js\";\nimport { injectSelf } from \"../util/injectSelf.js\"; // Types\n\nexport var DefaultsSymbol = Symbol.for('vuetify:defaults');\nexport function createDefaults(options) {\n  return ref(options);\n}\nexport function injectDefaults() {\n  var defaults = inject(DefaultsSymbol);\n  if (!defaults) throw new Error('[Vuetify] Could not find defaults instance');\n  return defaults;\n}\nexport function provideDefaults(defaults, options) {\n  var injectedDefaults = injectDefaults();\n  var providedDefaults = ref(defaults);\n  var newDefaults = computed(function () {\n    var disabled = unref(options === null || options === void 0 ? void 0 : options.disabled);\n    if (disabled) return injectedDefaults.value;\n    var scoped = unref(options === null || options === void 0 ? void 0 : options.scoped);\n    var reset = unref(options === null || options === void 0 ? void 0 : options.reset);\n    var root = unref(options === null || options === void 0 ? void 0 : options.root);\n    if (providedDefaults.value == null && !(scoped || reset || root)) return injectedDefaults.value;\n    var properties = mergeDeep(providedDefaults.value, {\n      prev: injectedDefaults.value\n    });\n    if (scoped) return properties;\n\n    if (reset || root) {\n      var len = Number(reset || Infinity);\n\n      for (var i = 0; i <= len; i++) {\n        if (!properties || !('prev' in properties)) {\n          break;\n        }\n\n        properties = properties.prev;\n      }\n\n      if (properties && typeof root === 'string' && root in properties) {\n        properties = mergeDeep(mergeDeep(properties, {\n          prev: properties\n        }), properties[root]);\n      }\n\n      return properties;\n    }\n\n    return properties.prev ? mergeDeep(properties.prev, properties) : properties;\n  });\n  provide(DefaultsSymbol, newDefaults);\n  return newDefaults;\n}\n\nfunction propIsDefined(vnode, prop) {\n  var _vnode$props, _vnode$props2;\n\n  return typeof ((_vnode$props = vnode.props) === null || _vnode$props === void 0 ? void 0 : _vnode$props[prop]) !== 'undefined' || typeof ((_vnode$props2 = vnode.props) === null || _vnode$props2 === void 0 ? void 0 : _vnode$props2[toKebabCase(prop)]) !== 'undefined';\n}\n\nexport function internalUseDefaults() {\n  var _ref2, _name;\n\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var name = arguments.length > 1 ? arguments[1] : undefined;\n  var defaults = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : injectDefaults();\n  var vm = getCurrentInstance('useDefaults');\n  name = (_ref2 = (_name = name) !== null && _name !== void 0 ? _name : vm.type.name) !== null && _ref2 !== void 0 ? _ref2 : vm.type.__name;\n\n  if (!name) {\n    throw new Error('[Vuetify] Could not determine component name');\n  }\n\n  var componentDefaults = computed(function () {\n    var _defaults$value, _props$_as;\n\n    return (_defaults$value = defaults.value) === null || _defaults$value === void 0 ? void 0 : _defaults$value[(_props$_as = props._as) !== null && _props$_as !== void 0 ? _props$_as : name];\n  });\n\n  var _props = new Proxy(props, {\n    get: function get(target, prop) {\n      var propValue = Reflect.get(target, prop);\n\n      if (prop === 'class' || prop === 'style') {\n        var _componentDefaults$va;\n\n        return [(_componentDefaults$va = componentDefaults.value) === null || _componentDefaults$va === void 0 ? void 0 : _componentDefaults$va[prop], propValue].filter(function (v) {\n          return v != null;\n        });\n      } else if (typeof prop === 'string' && !propIsDefined(vm.vnode, prop)) {\n        var _componentDefaults$va2, _componentDefaults$va3, _defaults$value2, _defaults$value2$glob, _defaults$value3, _defaults$value3$glob;\n\n        return ((_componentDefaults$va2 = componentDefaults.value) === null || _componentDefaults$va2 === void 0 ? void 0 : _componentDefaults$va2[prop]) !== undefined ? (_componentDefaults$va3 = componentDefaults.value) === null || _componentDefaults$va3 === void 0 ? void 0 : _componentDefaults$va3[prop] : ((_defaults$value2 = defaults.value) === null || _defaults$value2 === void 0 ? void 0 : (_defaults$value2$glob = _defaults$value2.global) === null || _defaults$value2$glob === void 0 ? void 0 : _defaults$value2$glob[prop]) !== undefined ? (_defaults$value3 = defaults.value) === null || _defaults$value3 === void 0 ? void 0 : (_defaults$value3$glob = _defaults$value3.global) === null || _defaults$value3$glob === void 0 ? void 0 : _defaults$value3$glob[prop] : propValue;\n      }\n\n      return propValue;\n    }\n  });\n\n  var _subcomponentDefaults = shallowRef();\n\n  watchEffect(function () {\n    if (componentDefaults.value) {\n      var subComponents = Object.entries(componentDefaults.value).filter(function (_ref) {\n        var _ref3 = _slicedToArray(_ref, 1),\n            key = _ref3[0];\n\n        return key.startsWith(key[0].toUpperCase());\n      });\n      _subcomponentDefaults.value = subComponents.length ? Object.fromEntries(subComponents) : undefined;\n    } else {\n      _subcomponentDefaults.value = undefined;\n    }\n  });\n\n  function provideSubDefaults() {\n    var injected = injectSelf(DefaultsSymbol, vm);\n    provide(DefaultsSymbol, computed(function () {\n      var _injected$value;\n\n      return _subcomponentDefaults.value ? mergeDeep((_injected$value = injected === null || injected === void 0 ? void 0 : injected.value) !== null && _injected$value !== void 0 ? _injected$value : {}, _subcomponentDefaults.value) : injected === null || injected === void 0 ? void 0 : injected.value;\n    }));\n  }\n\n  return {\n    props: _props,\n    provideSubDefaults: provideSubDefaults\n  };\n}\nexport function useDefaults() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var name = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _internalUseDefaults = internalUseDefaults(props, name),\n      _props = _internalUseDefaults.props,\n      provideSubDefaults = _internalUseDefaults.provideSubDefaults;\n\n  provideSubDefaults();\n  return _props;\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;AACA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,GAApC,EAAyCC,UAAzC,EAAqDC,KAArD,EAA4DC,WAA5D,QAA+E,KAA/E;AAAoF,SAC3EC,kBAD2E,QACzD,+BADyD;AACzD,SAClBC,SADkB,EACPC,WADO,QACI,oBADJ;AACI,SACtBC,UADsB,QACZ,uBADY,C,CAG/B;;AAWA,OAAO,IAAMC,cAAmD,GAAGC,MAAM,CAACC,GAAPD,CAAW,kBAAXA,CAA5D;AAEP,OAAO,SAASE,cAAT,CAAyBC,OAAzB,EAA4E;AACjF,SAAOZ,GAAG,CAACY,OAAD,CAAV;AACF;AAEA,OAAO,SAASC,cAAT,GAA2B;AAChC,MAAMC,QAAQ,GAAGhB,MAAM,CAACU,cAAD,CAAvB;AAEA,MAAI,CAACM,QAAL,EAAe,MAAM,IAAIC,KAAJ,CAAU,4CAAV,CAAN;AAEf,SAAOD,QAAP;AACF;AAEA,OAAO,SAASE,eAAT,CACLF,QADK,EAELF,OAFK,EAQL;AACA,MAAMK,gBAAgB,GAAGJ,cAAc,EAAvC;AACA,MAAMK,gBAAgB,GAAGlB,GAAG,CAACc,QAAD,CAA5B;AAEA,MAAMK,WAAW,GAAGtB,QAAQ,CAAC,YAAM;AACjC,QAAMuB,QAAQ,GAAGlB,KAAK,CAACU,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEQ,QAAV,CAAtB;AAEA,QAAIA,QAAJ,EAAc,OAAOH,gBAAgB,CAACI,KAAxB;AAEd,QAAMC,MAAM,GAAGpB,KAAK,CAACU,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEU,MAAV,CAApB;AACA,QAAMC,KAAK,GAAGrB,KAAK,CAACU,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEW,KAAV,CAAnB;AACA,QAAMC,IAAI,GAAGtB,KAAK,CAACU,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEY,IAAV,CAAlB;AAEA,QAAIN,gBAAgB,CAACG,KAAjBH,IAA0B,IAA1BA,IAAkC,EAAEI,MAAM,IAAIC,KAAVD,IAAmBE,IAArB,CAAtC,EAAkE,OAAOP,gBAAgB,CAACI,KAAxB;AAElE,QAAII,UAAU,GAAGpB,SAAS,CAACa,gBAAgB,CAACG,KAAlB,EAAyB;AAAEK,UAAI,EAAET,gBAAgB,CAACI;AAAzB,KAAzB,CAA1B;AAEA,QAAIC,MAAJ,EAAY,OAAOG,UAAP;;AAEZ,QAAIF,KAAK,IAAIC,IAAb,EAAmB;AACjB,UAAMG,GAAG,GAAGC,MAAM,CAACL,KAAK,IAAIM,QAAV,CAAlB;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIH,GAArB,EAA0BG,CAAC,EAA3B,EAA+B;AAC7B,YAAI,CAACL,UAAD,IAAe,EAAE,UAAUA,UAAZ,CAAnB,EAA4C;AAC1C;AACF;;AAEAA,kBAAU,GAAGA,UAAU,CAACC,IAAxBD;AACF;;AAEA,UAAIA,UAAU,IAAI,OAAOD,IAAP,KAAgB,QAA9BC,IAA0CD,IAAI,IAAIC,UAAtD,EAAkE;AAChEA,kBAAU,GAAGpB,SAAS,CAACA,SAAS,CAACoB,UAAD,EAAa;AAAEC,cAAI,EAAED;AAAR,SAAb,CAAV,EAA8CA,UAAU,CAACD,IAAD,CAAxD,CAAtBC;AACF;;AAEA,aAAOA,UAAP;AACF;;AAEA,WAAOA,UAAU,CAACC,IAAXD,GACHpB,SAAS,CAACoB,UAAU,CAACC,IAAZ,EAAkBD,UAAlB,CADNA,GAEHA,UAFJ;AAGD,GApC2B,CAA5B;AAsCA1B,SAAO,CAACS,cAAD,EAAiBW,WAAjB,CAAPpB;AAEA,SAAOoB,WAAP;AACF;;AAEA,SAASY,aAAT,CAAwBC,KAAxB,EAAsCC,IAAtC,EAAoD;AAAA;;AAClD,SAAO,wBAAOD,KAAK,CAACE,KAAb,iDAAOF,aAAcC,IAAdD,CAAP,MAA+B,WAA/B,IACL,yBAAOA,KAAK,CAACE,KAAb,kDAAOF,cAAc1B,WAAW,CAAC2B,IAAD,CAAzBD,CAAP,MAA4C,WAD9C;AAEF;;AAEA,OAAO,SAASG,mBAAT,GAIL;AAAA;;AAAA,MAHAD,KAA0B,uEAAG,EAG7B;AAH+B,MAC/BE,IAAa,kDADkB;AAClB,MACbtB,QAAQ,uEAAGD,cAAc,EADZ;AAGb,MAAMwB,EAAE,GAAGjC,kBAAkB,CAAC,aAAD,CAA7B;AAEAgC,MAAI,qBAAGA,IAAH,yCAAWC,EAAE,CAACC,IAAHD,CAAQD,IAAnB,yCAA2BC,EAAE,CAACC,IAAHD,CAAQE,MAAvCH;;AACA,MAAI,CAACA,IAAL,EAAW;AACT,UAAM,IAAIrB,KAAJ,CAAU,8CAAV,CAAN;AACF;;AAEA,MAAMyB,iBAAiB,GAAG3C,QAAQ,CAAC;AAAA;;AAAA,8BAAMiB,QAAQ,CAACO,KAAf,oDAAMP,8BAAiBoB,KAAK,CAACO,GAAvB3B,mDAA8BsB,IAA9BtB,CAAN;AAAA,GAAD,CAAlC;;AACA,MAAM4B,MAAM,GAAG,IAAIC,KAAJ,CAAUT,KAAV,EAAiB;AAC9BU,OAD8B,eACzBC,MADyB,EACjBZ,IADiB,EACX;AACjB,UAAMa,SAAS,GAAGC,OAAO,CAACH,GAARG,CAAYF,MAAZE,EAAoBd,IAApBc,CAAlB;;AACA,UAAId,IAAI,KAAK,OAATA,IAAoBA,IAAI,KAAK,OAAjC,EAA0C;AAAA;;AACxC,eAAO,0BAACO,iBAAiB,CAACnB,KAAnB,0DAACmB,sBAA0BP,IAA1BO,CAAD,EAAkCM,SAAlC,EAA6CE,MAA7C,CAAoDC,WAAC;AAAA,iBAAIA,CAAC,IAAI,IAAT;AAAA,SAArD,CAAP;AACD,OAFD,MAEO,IAAI,OAAOhB,IAAP,KAAgB,QAAhB,IAA4B,CAACF,aAAa,CAACM,EAAE,CAACL,KAAJ,EAAWC,IAAX,CAA9C,EAAgE;AAAA;;AACrE,eAAOO,4CAAiB,CAACnB,KAAlBmB,kFAA0BP,IAA1BO,OAAoCU,SAApCV,6BAAgDA,iBAAiB,CAACnB,KAAlEmB,2DAAgDA,uBAA0BP,IAA1BO,CAAhDA,GACH1B,6BAAQ,CAACO,KAATP,+FAAgBqC,MAAhBrC,gFAAyBmB,IAAzBnB,OAAmCoC,SAAnCpC,uBAA+CA,QAAQ,CAACO,KAAxDP,8EAA+CA,iBAAgBqC,MAA/DrC,0DAA+CA,sBAAyBmB,IAAzBnB,CAA/CA,GACAgC,SAFJ;AAGF;;AACA,aAAOA,SAAP;AACF;AAX8B,GAAjB,CAAf;;AAcA,MAAMM,qBAAqB,GAAGnD,UAAU,EAAxC;;AACAE,aAAW,CAAC,YAAM;AAChB,QAAIqC,iBAAiB,CAACnB,KAAtB,EAA6B;AAC3B,UAAMgC,aAAa,GAAGC,MAAM,CAACC,OAAPD,CAAed,iBAAiB,CAACnB,KAAjCiC,EAAwCN,MAAxCM,CAA+CE;AAAA,mCAAMA,IAAN;AAAA,YAAEC,GAAF;;AAAM,eAAKA,GAAG,CAACC,UAAJD,CAAeA,GAAG,CAAC,CAAD,CAAHA,CAAOE,WAAPF,EAAfA,CAAL;AAAyC,OAA9FH,CAAtB;AACAF,2BAAqB,CAAC/B,KAAtB+B,GAA8BC,aAAa,CAACO,MAAdP,GAAuBC,MAAM,CAACO,WAAPP,CAAmBD,aAAnBC,CAAvBD,GAA2DH,SAAzFE;AACD,KAHD,MAGO;AACLA,2BAAqB,CAAC/B,KAAtB+B,GAA8BF,SAA9BE;AACF;AACD,GAPU,CAAXjD;;AASA,WAAS2D,kBAAT,GAA+B;AAC7B,QAAMC,QAAQ,GAAGxD,UAAU,CAACC,cAAD,EAAiB6B,EAAjB,CAA3B;AACAtC,WAAO,CAACS,cAAD,EAAiBX,QAAQ,CAAC,YAAM;AAAA;;AACrC,aAAOuD,qBAAqB,CAAC/B,KAAtB+B,GAA8B/C,SAAS,oBAC5C0D,QAD4C,aAC5CA,QAD4C,uBAC5CA,QAAQ,CAAE1C,KADkC,6DACzB,EADyB,EAE5C+B,qBAAqB,CAAC/B,KAFsB,CAAvC+B,GAGHW,QAHGX,aAGHW,QAHGX,uBAGHW,QAAQ,CAAE1C,KAHd;AAID,KAL+B,CAAzB,CAAPtB;AAMF;;AAEA,SAAO;AAAEmC,SAAK,EAAEQ,MAAT;AAAiBoB;AAAjB,GAAP;AACF;AAIA,OAAO,SAASE,WAAT,GAGL;AAAA,MAFA9B,KAA0B,uEAAG,EAE7B;AAF+B,MAC/BE,IAAa,kDADkB;;AAG/B,6BAA8CD,mBAAmB,CAACD,KAAD,EAAQE,IAAR,CAAjE;AAAA,MAAeM,MAAf,wBAAQR,KAAR;AAAA,MAAuB4B,kBAAvB,wBAAuBA,kBAAvB;;AACAA,oBAAkB;AAClB,SAAOpB,MAAP;AACF","names":["computed","inject","provide","ref","shallowRef","unref","watchEffect","getCurrentInstance","mergeDeep","toKebabCase","injectSelf","DefaultsSymbol","Symbol","for","createDefaults","options","injectDefaults","defaults","Error","provideDefaults","injectedDefaults","providedDefaults","newDefaults","disabled","value","scoped","reset","root","properties","prev","len","Number","Infinity","i","propIsDefined","vnode","prop","props","internalUseDefaults","name","vm","type","__name","componentDefaults","_as","_props","Proxy","get","target","propValue","Reflect","filter","v","undefined","global","_subcomponentDefaults","subComponents","Object","entries","_ref","key","startsWith","toUpperCase","length","fromEntries","provideSubDefaults","injected","useDefaults"],"sources":["../../src/composables/defaults.ts"],"sourcesContent":["// Utilities\nimport { computed, inject, provide, ref, shallowRef, unref, watchEffect } from 'vue'\nimport { getCurrentInstance } from '@/util/getCurrentInstance'\nimport { mergeDeep, toKebabCase } from '@/util/helpers'\nimport { injectSelf } from '@/util/injectSelf'\n\n// Types\nimport type { ComputedRef, InjectionKey, Ref, VNode } from 'vue'\nimport type { MaybeRef } from '@/util'\n\nexport type DefaultsInstance = undefined | {\n  [key: string]: undefined | Record<string, unknown>\n  global?: Record<string, unknown>\n}\n\nexport type DefaultsOptions = Partial<DefaultsInstance>\n\nexport const DefaultsSymbol: InjectionKey<Ref<DefaultsInstance>> = Symbol.for('vuetify:defaults')\n\nexport function createDefaults (options?: DefaultsInstance): Ref<DefaultsInstance> {\n  return ref(options)\n}\n\nexport function injectDefaults () {\n  const defaults = inject(DefaultsSymbol)\n\n  if (!defaults) throw new Error('[Vuetify] Could not find defaults instance')\n\n  return defaults\n}\n\nexport function provideDefaults (\n  defaults?: MaybeRef<DefaultsInstance | undefined>,\n  options?: {\n    disabled?: MaybeRef<boolean | undefined>\n    reset?: MaybeRef<number | string | undefined>\n    root?: MaybeRef<boolean | string | undefined>\n    scoped?: MaybeRef<boolean | undefined>\n  }\n) {\n  const injectedDefaults = injectDefaults()\n  const providedDefaults = ref(defaults)\n\n  const newDefaults = computed(() => {\n    const disabled = unref(options?.disabled)\n\n    if (disabled) return injectedDefaults.value\n\n    const scoped = unref(options?.scoped)\n    const reset = unref(options?.reset)\n    const root = unref(options?.root)\n\n    if (providedDefaults.value == null && !(scoped || reset || root)) return injectedDefaults.value\n\n    let properties = mergeDeep(providedDefaults.value, { prev: injectedDefaults.value })\n\n    if (scoped) return properties\n\n    if (reset || root) {\n      const len = Number(reset || Infinity)\n\n      for (let i = 0; i <= len; i++) {\n        if (!properties || !('prev' in properties)) {\n          break\n        }\n\n        properties = properties.prev\n      }\n\n      if (properties && typeof root === 'string' && root in properties) {\n        properties = mergeDeep(mergeDeep(properties, { prev: properties }), properties[root])\n      }\n\n      return properties\n    }\n\n    return properties.prev\n      ? mergeDeep(properties.prev, properties)\n      : properties\n  }) as ComputedRef<DefaultsInstance>\n\n  provide(DefaultsSymbol, newDefaults)\n\n  return newDefaults\n}\n\nfunction propIsDefined (vnode: VNode, prop: string) {\n  return typeof vnode.props?.[prop] !== 'undefined' ||\n    typeof vnode.props?.[toKebabCase(prop)] !== 'undefined'\n}\n\nexport function internalUseDefaults (\n  props: Record<string, any> = {},\n  name?: string,\n  defaults = injectDefaults()\n) {\n  const vm = getCurrentInstance('useDefaults')\n\n  name = name ?? vm.type.name ?? vm.type.__name\n  if (!name) {\n    throw new Error('[Vuetify] Could not determine component name')\n  }\n\n  const componentDefaults = computed(() => defaults.value?.[props._as ?? name])\n  const _props = new Proxy(props, {\n    get (target, prop) {\n      const propValue = Reflect.get(target, prop)\n      if (prop === 'class' || prop === 'style') {\n        return [componentDefaults.value?.[prop], propValue].filter(v => v != null)\n      } else if (typeof prop === 'string' && !propIsDefined(vm.vnode, prop)) {\n        return componentDefaults.value?.[prop] !== undefined ? componentDefaults.value?.[prop]\n          : defaults.value?.global?.[prop] !== undefined ? defaults.value?.global?.[prop]\n          : propValue\n      }\n      return propValue\n    },\n  })\n\n  const _subcomponentDefaults = shallowRef()\n  watchEffect(() => {\n    if (componentDefaults.value) {\n      const subComponents = Object.entries(componentDefaults.value).filter(([key]) => key.startsWith(key[0].toUpperCase()))\n      _subcomponentDefaults.value = subComponents.length ? Object.fromEntries(subComponents) : undefined\n    } else {\n      _subcomponentDefaults.value = undefined\n    }\n  })\n\n  function provideSubDefaults () {\n    const injected = injectSelf(DefaultsSymbol, vm)\n    provide(DefaultsSymbol, computed(() => {\n      return _subcomponentDefaults.value ? mergeDeep(\n        injected?.value ?? {},\n        _subcomponentDefaults.value\n      ) : injected?.value\n    }))\n  }\n\n  return { props: _props, provideSubDefaults }\n}\n\nexport function useDefaults<T extends Record<string, any>> (props: T, name?: string): T\nexport function useDefaults (props?: undefined, name?: string): Record<string, any>\nexport function useDefaults (\n  props: Record<string, any> = {},\n  name?: string,\n) {\n  const { props: _props, provideSubDefaults } = internalUseDefaults(props, name)\n  provideSubDefaults()\n  return _props\n}\n"]},"metadata":{},"sourceType":"module"}