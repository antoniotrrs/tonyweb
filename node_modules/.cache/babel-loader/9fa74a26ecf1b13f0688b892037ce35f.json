{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\n// Composables\nimport { useRtl } from \"./locale.js\"; // Utilities\n\nimport { computed } from 'vue';\nimport { parseAnchor, propsFactory } from \"../util/index.js\"; // Types\n\nvar oppositeMap = {\n  center: 'center',\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\nexport var makeLocationProps = propsFactory({\n  location: String\n}, 'location');\nexport function useLocation(props) {\n  var opposite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var offset = arguments.length > 2 ? arguments[2] : undefined;\n\n  var _useRtl = useRtl(),\n      isRtl = _useRtl.isRtl;\n\n  var locationStyles = computed(function () {\n    if (!props.location) return {};\n\n    var _parseAnchor = parseAnchor(props.location.split(' ').length > 1 ? props.location : \"\".concat(props.location, \" center\"), isRtl.value),\n        side = _parseAnchor.side,\n        align = _parseAnchor.align;\n\n    function getOffset(side) {\n      return offset ? offset(side) : 0;\n    }\n\n    var styles = {};\n\n    if (side !== 'center') {\n      if (opposite) styles[oppositeMap[side]] = \"calc(100% - \".concat(getOffset(side), \"px)\");else styles[side] = 0;\n    }\n\n    if (align !== 'center') {\n      if (opposite) styles[oppositeMap[align]] = \"calc(100% - \".concat(getOffset(align), \"px)\");else styles[align] = 0;\n    } else {\n      if (side === 'center') styles.top = styles.left = '50%';else {\n        styles[{\n          top: 'left',\n          bottom: 'left',\n          left: 'top',\n          right: 'top'\n        }[side]] = '50%';\n      }\n      styles.transform = {\n        top: 'translateX(-50%)',\n        bottom: 'translateX(-50%)',\n        left: 'translateY(-50%)',\n        right: 'translateY(-50%)',\n        center: 'translate(-50%, -50%)'\n      }[side];\n    }\n\n    return styles;\n  });\n  return {\n    locationStyles: locationStyles\n  };\n}","map":{"version":3,"mappings":";;AAAA;AAAA,SACSA,MADT,QACe,aADf,C,CAGA;;AACA,SAASC,QAAT,QAAyB,KAAzB;AAA8B,SACrBC,WADqB,EACRC,YADQ,QACI,kBADJ,C,CAG9B;;AAIA,IAAMC,WAAW,GAAG;AAClBC,QAAM,EAAE,QADU;AAElBC,KAAG,EAAE,QAFa;AAGlBC,QAAM,EAAE,KAHU;AAIlBC,MAAI,EAAE,OAJY;AAKlBC,OAAK,EAAE;AALW,CAApB;AAYA,OAAO,IAAMC,iBAAiB,GAAGP,YAAY,CAAC;AAC5CQ,UAAQ,EAAEC;AADkC,CAAD,EAE1C,UAF0C,CAAtC;AAIP,OAAO,SAASC,WAAT,CAAsBC,KAAtB,EAAiG;AAAA,MAArDC,QAAQ,uEAAG,KAA0C;AAArC,MAAEC,MAAiC,kDAAnC;;AACjE,gBAAkBhB,MAAM,EAAxB;AAAA,MAAQiB,KAAR,WAAQA,KAAR;;AAEA,MAAMC,cAAc,GAAGjB,QAAQ,CAAC,YAAM;AACpC,QAAI,CAACa,KAAK,CAACH,QAAX,EAAqB,OAAO,EAAP;;AAErB,uBAAwBT,WAAW,CACjCY,KAAK,CAACH,QAANG,CAAeK,KAAfL,CAAqB,GAArBA,EAA0BM,MAA1BN,GAAmC,CAAnCA,GACIA,KAAK,CAACH,QADVG,aAEOA,KAAK,CAACH,QAFbG,YADiC,EAIjCG,KAAK,CAACI,KAJ2B,CAAnC;AAAA,QAAQC,IAAR,gBAAQA,IAAR;AAAA,QAAcC,KAAd,gBAAcA,KAAd;;AAOA,aAASC,SAAT,CAAoBF,IAApB,EAAkC;AAChC,aAAON,MAAM,GACTA,MAAM,CAACM,IAAD,CADG,GAET,CAFJ;AAGF;;AAEA,QAAMG,MAAM,GAAG,EAAf;;AAEA,QAAIH,IAAI,KAAK,QAAb,EAAuB;AACrB,UAAIP,QAAJ,EAAcU,MAAM,CAACrB,WAAW,CAACkB,IAAD,CAAZ,CAANG,yBAA2CD,SAAS,CAACF,IAAD,CAApDG,SAAd,KACKA,MAAM,CAACH,IAAD,CAANG,GAAe,CAAfA;AACP;;AACA,QAAIF,KAAK,KAAK,QAAd,EAAwB;AACtB,UAAIR,QAAJ,EAAcU,MAAM,CAACrB,WAAW,CAACmB,KAAD,CAAZ,CAANE,yBAA4CD,SAAS,CAACD,KAAD,CAArDE,SAAd,KACKA,MAAM,CAACF,KAAD,CAANE,GAAgB,CAAhBA;AACN,KAHD,MAGO;AACL,UAAIH,IAAI,KAAK,QAAb,EAAuBG,MAAM,CAACnB,GAAPmB,GAAaA,MAAM,CAACjB,IAAPiB,GAAc,KAA3BA,CAAvB,KACK;AACHA,cAAM,CAAE;AACNnB,aAAG,EAAE,MADC;AAENC,gBAAM,EAAE,MAFF;AAGNC,cAAI,EAAE,KAHA;AAINC,eAAK,EAAE;AAJD,UAKIa,IALJ,CAAF,CAANG,GAKqB,KALrBA;AAMF;AACAA,YAAM,CAACC,SAAPD,GAAmB;AACjBnB,WAAG,EAAE,kBADY;AAEjBC,cAAM,EAAE,kBAFS;AAGjBC,YAAI,EAAE,kBAHW;AAIjBC,aAAK,EAAE,kBAJU;AAKjBJ,cAAM,EAAE;AALS,QAMjBiB,IANiB,CAAnBG;AAOF;;AAEA,WAAOA,MAAP;AACD,GA7C8B,CAA/B;AA+CA,SAAO;AAAEP;AAAF,GAAP;AACF","names":["useRtl","computed","parseAnchor","propsFactory","oppositeMap","center","top","bottom","left","right","makeLocationProps","location","String","useLocation","props","opposite","offset","isRtl","locationStyles","split","length","value","side","align","getOffset","styles","transform"],"sources":["../../src/composables/location.ts"],"sourcesContent":["// Composables\nimport { useRtl } from '@/composables/locale'\n\n// Utilities\nimport { computed } from 'vue'\nimport { parseAnchor, propsFactory } from '@/util'\n\n// Types\nimport type { CSSProperties, PropType } from 'vue'\nimport type { Anchor } from '@/util'\n\nconst oppositeMap = {\n  center: 'center',\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left',\n} as const\n\nexport interface LocationProps {\n  location: Anchor | null | undefined\n}\n\nexport const makeLocationProps = propsFactory({\n  location: String as PropType<Anchor | null>,\n}, 'location')\n\nexport function useLocation (props: LocationProps, opposite = false, offset?: (side: string) => number) {\n  const { isRtl } = useRtl()\n\n  const locationStyles = computed(() => {\n    if (!props.location) return {}\n\n    const { side, align } = parseAnchor(\n      props.location.split(' ').length > 1\n        ? props.location\n        : `${props.location} center` as Anchor,\n      isRtl.value\n    )\n\n    function getOffset (side: string) {\n      return offset\n        ? offset(side)\n        : 0\n    }\n\n    const styles = {} as CSSProperties\n\n    if (side !== 'center') {\n      if (opposite) styles[oppositeMap[side]] = `calc(100% - ${getOffset(side)}px)`\n      else styles[side] = 0\n    }\n    if (align !== 'center') {\n      if (opposite) styles[oppositeMap[align]] = `calc(100% - ${getOffset(align)}px)`\n      else styles[align] = 0\n    } else {\n      if (side === 'center') styles.top = styles.left = '50%'\n      else {\n        styles[({\n          top: 'left',\n          bottom: 'left',\n          left: 'top',\n          right: 'top',\n        } as const)[side]] = '50%'\n      }\n      styles.transform = {\n        top: 'translateX(-50%)',\n        bottom: 'translateX(-50%)',\n        left: 'translateY(-50%)',\n        right: 'translateY(-50%)',\n        center: 'translate(-50%, -50%)',\n      }[side]\n    }\n\n    return styles\n  })\n\n  return { locationStyles }\n}\n"]},"metadata":{},"sourceType":"module"}