{"ast":null,"code":"// Utilities\nimport { onScopeDispose } from 'vue';\nconst HOLD_REPEAT = 50;\nconst HOLD_DELAY = 500;\nexport function useHold(_ref) {\n  let {\n    toggleUpDown\n  } = _ref;\n  let timeout = -1;\n  let interval = -1;\n  onScopeDispose(holdStop);\n\n  function holdStart(value) {\n    holdStop();\n    tick(value);\n    timeout = window.setTimeout(() => {\n      interval = window.setInterval(() => tick(value), HOLD_REPEAT);\n    }, HOLD_DELAY);\n  }\n\n  function holdStop() {\n    window.clearTimeout(timeout);\n    window.clearInterval(interval);\n  }\n\n  function tick(value) {\n    toggleUpDown(value === 'up');\n  }\n\n  return {\n    holdStart,\n    holdStop\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA,SAASA,cAAT,QAA+B,KAA/B;AAEA,MAAMC,WAAW,GAAG,EAApB;AACA,MAAMC,UAAU,GAAG,GAAnB;AAEA,OAAO,SAASC,OAAT,CAAgBC,IAAhB,EAAoF;AAAA,MAAlE;AAAEC;AAAF,MAAgED,IAAE;AACzF,MAAIE,OAAO,GAAG,CAAC,CAAf;AACA,MAAIC,QAAQ,GAAG,CAAC,CAAhB;AAEAP,gBAAc,CAACQ,QAAD,CAAdR;;AAEA,WAASS,SAAT,CAAoBC,KAApB,EAA0C;AACxCF,YAAQ;AACRG,QAAI,CAACD,KAAD,CAAJC;AACAL,WAAO,GAAGM,MAAM,CAACC,UAAPD,CAAkB,MAAM;AAChCL,cAAQ,GAAGK,MAAM,CAACE,WAAPF,CAAmB,MAAMD,IAAI,CAACD,KAAD,CAA7BE,EAAsCX,WAAtCW,CAAXL;AACD,KAFSK,EAEPV,UAFOU,CAAVN;AAGF;;AAEA,WAASE,QAAT,GAAqB;AACnBI,UAAM,CAACG,YAAPH,CAAoBN,OAApBM;AACAA,UAAM,CAACI,aAAPJ,CAAqBL,QAArBK;AACF;;AAEA,WAASD,IAAT,CAAeD,KAAf,EAAqC;AACnCL,gBAAY,CAACK,KAAK,KAAK,IAAX,CAAZL;AACF;;AAEA,SAAO;AAAEI,aAAF;AAAaD;AAAb,GAAP;AACF","names":["onScopeDispose","HOLD_REPEAT","HOLD_DELAY","useHold","_ref","toggleUpDown","timeout","interval","holdStop","holdStart","value","tick","window","setTimeout","setInterval","clearTimeout","clearInterval"],"sources":["../../../src/components/VNumberInput/hold.ts"],"sourcesContent":["// Utilities\nimport { onScopeDispose } from 'vue'\n\nconst HOLD_REPEAT = 50\nconst HOLD_DELAY = 500\n\nexport function useHold ({ toggleUpDown }: { toggleUpDown: (increment: boolean) => void }) {\n  let timeout = -1\n  let interval = -1\n\n  onScopeDispose(holdStop)\n\n  function holdStart (value: 'up' | 'down') {\n    holdStop()\n    tick(value)\n    timeout = window.setTimeout(() => {\n      interval = window.setInterval(() => tick(value), HOLD_REPEAT)\n    }, HOLD_DELAY)\n  }\n\n  function holdStop () {\n    window.clearTimeout(timeout)\n    window.clearInterval(interval)\n  }\n\n  function tick (value: 'up' | 'down') {\n    toggleUpDown(value === 'up')\n  }\n\n  return { holdStart, holdStop }\n}\n"]},"metadata":{},"sourceType":"module"}