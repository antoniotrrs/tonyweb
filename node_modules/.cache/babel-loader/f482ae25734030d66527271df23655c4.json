{"ast":null,"code":"import _toConsumableArray from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.flat-map.js\";\nimport \"core-js/modules/es.array.unscopables.flat-map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport { Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps, createTextVNode as _createTextVNode } from \"vue\"; // Styles\n\nimport \"./VRating.css\"; // Components\n\nimport { VBtn } from \"../VBtn/index.js\"; // Composables\n\nimport { makeComponentProps } from \"../../composables/component.js\";\nimport { makeDensityProps } from \"../../composables/density.js\";\nimport { IconValue } from \"../../composables/icons.js\";\nimport { useLocale } from \"../../composables/locale.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\";\nimport { makeSizeProps } from \"../../composables/size.js\";\nimport { makeTagProps } from \"../../composables/tag.js\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.js\"; // Utilities\n\nimport { computed, shallowRef, useId } from 'vue';\nimport { clamp, createRange, genericComponent, propsFactory, useRender } from \"../../util/index.js\"; // Types\n\nexport var makeVRatingProps = propsFactory(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n  name: String,\n  itemAriaLabel: {\n    type: String,\n    default: '$vuetify.rating.ariaLabel.item'\n  },\n  activeColor: String,\n  color: String,\n  clearable: Boolean,\n  disabled: Boolean,\n  emptyIcon: {\n    type: IconValue,\n    default: '$ratingEmpty'\n  },\n  fullIcon: {\n    type: IconValue,\n    default: '$ratingFull'\n  },\n  halfIncrements: Boolean,\n  hover: Boolean,\n  length: {\n    type: [Number, String],\n    default: 5\n  },\n  readonly: Boolean,\n  modelValue: {\n    type: [Number, String],\n    default: 0\n  },\n  itemLabels: Array,\n  itemLabelPosition: {\n    type: String,\n    default: 'top',\n    validator: function validator(v) {\n      return ['top', 'bottom'].includes(v);\n    }\n  },\n  ripple: Boolean\n}, makeComponentProps()), makeDensityProps()), makeSizeProps()), makeTagProps()), makeThemeProps()), 'VRating');\nexport var VRating = genericComponent()({\n  name: 'VRating',\n  props: makeVRatingProps(),\n  emits: {\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useLocale = useLocale(),\n        t = _useLocale.t;\n\n    var _provideTheme = provideTheme(props),\n        themeClasses = _provideTheme.themeClasses;\n\n    var rating = useProxiedModel(props, 'modelValue');\n    var normalizedValue = computed(function () {\n      return clamp(parseFloat(rating.value), 0, Number(props.length));\n    });\n    var range = computed(function () {\n      return createRange(Number(props.length), 1);\n    });\n    var increments = computed(function () {\n      return range.value.flatMap(function (v) {\n        return props.halfIncrements ? [v - 0.5, v] : [v];\n      });\n    });\n    var hoverIndex = shallowRef(-1);\n    var itemState = computed(function () {\n      return increments.value.map(function (value) {\n        var _props$activeColor;\n\n        var isHovering = props.hover && hoverIndex.value > -1;\n        var isFilled = normalizedValue.value >= value;\n        var isHovered = hoverIndex.value >= value;\n        var isFullIcon = isHovering ? isHovered : isFilled;\n        var icon = isFullIcon ? props.fullIcon : props.emptyIcon;\n        var activeColor = (_props$activeColor = props.activeColor) !== null && _props$activeColor !== void 0 ? _props$activeColor : props.color;\n        var color = isFilled || isHovered ? activeColor : props.color;\n        return {\n          isFilled: isFilled,\n          isHovered: isHovered,\n          icon: icon,\n          color: color\n        };\n      });\n    });\n    var eventState = computed(function () {\n      return [0].concat(_toConsumableArray(increments.value)).map(function (value) {\n        function onMouseenter() {\n          hoverIndex.value = value;\n        }\n\n        function onMouseleave() {\n          hoverIndex.value = -1;\n        }\n\n        function onClick() {\n          if (props.disabled || props.readonly) return;\n          rating.value = normalizedValue.value === value && props.clearable ? 0 : value;\n        }\n\n        return {\n          onMouseenter: props.hover ? onMouseenter : undefined,\n          onMouseleave: props.hover ? onMouseleave : undefined,\n          onClick: onClick\n        };\n      });\n    });\n    var uid = useId();\n    var name = computed(function () {\n      var _props$name;\n\n      return (_props$name = props.name) !== null && _props$name !== void 0 ? _props$name : \"v-rating-\".concat(uid);\n    });\n\n    function VRatingItem(_ref2) {\n      var _itemState$value$inde, _itemState$value$inde2;\n\n      var value = _ref2.value,\n          index = _ref2.index,\n          _ref2$showStar = _ref2.showStar,\n          showStar = _ref2$showStar === void 0 ? true : _ref2$showStar;\n      var _eventState$value = eventState.value[index + 1],\n          onMouseenter = _eventState$value.onMouseenter,\n          onMouseleave = _eventState$value.onMouseleave,\n          onClick = _eventState$value.onClick;\n      var id = \"\".concat(name.value, \"-\").concat(String(value).replace('.', '-'));\n      var btnProps = {\n        color: (_itemState$value$inde = itemState.value[index]) === null || _itemState$value$inde === void 0 ? void 0 : _itemState$value$inde.color,\n        density: props.density,\n        disabled: props.disabled,\n        icon: (_itemState$value$inde2 = itemState.value[index]) === null || _itemState$value$inde2 === void 0 ? void 0 : _itemState$value$inde2.icon,\n        ripple: props.ripple,\n        size: props.size,\n        variant: 'plain'\n      };\n      return _createVNode(_Fragment, null, [_createVNode(\"label\", {\n        \"for\": id,\n        \"class\": {\n          'v-rating__item--half': props.halfIncrements && value % 1 > 0,\n          'v-rating__item--full': props.halfIncrements && value % 1 === 0\n        },\n        \"onMouseenter\": onMouseenter,\n        \"onMouseleave\": onMouseleave,\n        \"onClick\": onClick\n      }, [_createVNode(\"span\", {\n        \"class\": \"v-rating__hidden\"\n      }, [t(props.itemAriaLabel, value, props.length)]), !showStar ? undefined : slots.item ? slots.item(_objectSpread(_objectSpread({}, itemState.value[index]), {}, {\n        props: btnProps,\n        value: value,\n        index: index,\n        rating: normalizedValue.value\n      })) : _createVNode(VBtn, _mergeProps({\n        \"aria-label\": t(props.itemAriaLabel, value, props.length)\n      }, btnProps), null)]), _createVNode(\"input\", {\n        \"class\": \"v-rating__hidden\",\n        \"name\": name.value,\n        \"id\": id,\n        \"type\": \"radio\",\n        \"value\": value,\n        \"checked\": normalizedValue.value === value,\n        \"tabindex\": -1,\n        \"readonly\": props.readonly,\n        \"disabled\": props.disabled\n      }, null)]);\n    }\n\n    function createLabel(labelProps) {\n      if (slots['item-label']) return slots['item-label'](labelProps);\n      if (labelProps.label) return _createVNode(\"span\", null, [labelProps.label]);\n      return _createVNode(\"span\", null, [_createTextVNode(\"\\xA0\")]);\n    }\n\n    useRender(function () {\n      var _props$itemLabels;\n\n      var hasLabels = !!((_props$itemLabels = props.itemLabels) !== null && _props$itemLabels !== void 0 && _props$itemLabels.length) || slots['item-label'];\n      return _createVNode(props.tag, {\n        \"class\": ['v-rating', {\n          'v-rating--hover': props.hover,\n          'v-rating--readonly': props.readonly\n        }, themeClasses.value, props.class],\n        \"style\": props.style\n      }, {\n        default: function _default() {\n          return [_createVNode(VRatingItem, {\n            \"value\": 0,\n            \"index\": -1,\n            \"showStar\": false\n          }, null), range.value.map(function (value, i) {\n            var _props$itemLabels2, _props$itemLabels3;\n\n            return _createVNode(\"div\", {\n              \"class\": \"v-rating__wrapper\"\n            }, [hasLabels && props.itemLabelPosition === 'top' ? createLabel({\n              value: value,\n              index: i,\n              label: (_props$itemLabels2 = props.itemLabels) === null || _props$itemLabels2 === void 0 ? void 0 : _props$itemLabels2[i]\n            }) : undefined, _createVNode(\"div\", {\n              \"class\": \"v-rating__item\"\n            }, [props.halfIncrements ? _createVNode(_Fragment, null, [_createVNode(VRatingItem, {\n              \"value\": value - 0.5,\n              \"index\": i * 2\n            }, null), _createVNode(VRatingItem, {\n              \"value\": value,\n              \"index\": i * 2 + 1\n            }, null)]) : _createVNode(VRatingItem, {\n              \"value\": value,\n              \"index\": i\n            }, null)]), hasLabels && props.itemLabelPosition === 'bottom' ? createLabel({\n              value: value,\n              index: i,\n              label: (_props$itemLabels3 = props.itemLabels) === null || _props$itemLabels3 === void 0 ? void 0 : _props$itemLabels3[i]\n            }) : undefined]);\n          })];\n        }\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"mappings":"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","names":["VBtn","makeComponentProps","makeDensityProps","IconValue","useLocale","useProxiedModel","makeSizeProps","makeTagProps","makeThemeProps","provideTheme","computed","shallowRef","useId","clamp","createRange","genericComponent","propsFactory","useRender","makeVRatingProps","name","String","itemAriaLabel","type","default","activeColor","color","clearable","Boolean","disabled","emptyIcon","fullIcon","halfIncrements","hover","length","Number","readonly","modelValue","itemLabels","Array","itemLabelPosition","validator","v","includes","ripple","VRating","props","emits","value","setup","_ref","slots","t","themeClasses","rating","normalizedValue","parseFloat","range","increments","flatMap","hoverIndex","itemState","map","isHovering","isFilled","isHovered","isFullIcon","icon","eventState","onMouseenter","onMouseleave","onClick","undefined","uid","VRatingItem","_ref2","index","showStar","id","replace","btnProps","density","size","variant","item","_createVNode","createLabel","labelProps","label","hasLabels","class","style","i"],"sources":["../../../src/components/VRating/VRating.tsx"],"sourcesContent":["// Styles\nimport './VRating.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDensityProps } from '@/composables/density'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeSizeProps } from '@/composables/size'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\n\n// Utilities\nimport { computed, shallowRef, useId } from 'vue'\nimport { clamp, createRange, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { Prop } from 'vue'\nimport type { Variant } from '@/composables/variant'\n\ntype VRatingItemSlot = {\n  value: number\n  index: number\n  isFilled: boolean\n  isHovered: boolean\n  icon: IconValue\n  color?: string\n  props: Record<string, unknown>\n  rating: number\n}\n\ntype VRatingItemLabelSlot = {\n  value: number\n  index: number\n  label?: string\n}\n\ntype VRatingSlots = {\n  item: VRatingItemSlot\n  'item-label': VRatingItemLabelSlot\n}\n\nexport const makeVRatingProps = propsFactory({\n  name: String,\n  itemAriaLabel: {\n    type: String,\n    default: '$vuetify.rating.ariaLabel.item',\n  },\n  activeColor: String,\n  color: String,\n  clearable: Boolean,\n  disabled: Boolean,\n  emptyIcon: {\n    type: IconValue,\n    default: '$ratingEmpty',\n  },\n  fullIcon: {\n    type: IconValue,\n    default: '$ratingFull',\n  },\n  halfIncrements: Boolean,\n  hover: Boolean,\n  length: {\n    type: [Number, String],\n    default: 5,\n  },\n  readonly: Boolean,\n  modelValue: {\n    type: [Number, String],\n    default: 0,\n  },\n  itemLabels: Array as Prop<string[]>,\n  itemLabelPosition: {\n    type: String,\n    default: 'top',\n    validator: (v: any) => ['top', 'bottom'].includes(v),\n  },\n  ripple: Boolean,\n\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeSizeProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n}, 'VRating')\n\nexport const VRating = genericComponent<VRatingSlots>()({\n  name: 'VRating',\n\n  props: makeVRatingProps(),\n\n  emits: {\n    'update:modelValue': (value: number | string) => true,\n  },\n\n  setup (props, { slots }) {\n    const { t } = useLocale()\n    const { themeClasses } = provideTheme(props)\n    const rating = useProxiedModel(props, 'modelValue')\n    const normalizedValue = computed(() => clamp(parseFloat(rating.value), 0, Number(props.length)))\n\n    const range = computed(() => createRange(Number(props.length), 1))\n    const increments = computed(() => range.value.flatMap(v => props.halfIncrements ? [v - 0.5, v] : [v]))\n    const hoverIndex = shallowRef(-1)\n\n    const itemState = computed(() => increments.value.map(value => {\n      const isHovering = props.hover && hoverIndex.value > -1\n      const isFilled = normalizedValue.value >= value\n      const isHovered = hoverIndex.value >= value\n      const isFullIcon = isHovering ? isHovered : isFilled\n      const icon = isFullIcon ? props.fullIcon : props.emptyIcon\n      const activeColor = props.activeColor ?? props.color\n      const color = (isFilled || isHovered) ? activeColor : props.color\n\n      return { isFilled, isHovered, icon, color }\n    }))\n\n    const eventState = computed(() => [0, ...increments.value].map(value => {\n      function onMouseenter () {\n        hoverIndex.value = value\n      }\n\n      function onMouseleave () {\n        hoverIndex.value = -1\n      }\n\n      function onClick () {\n        if (props.disabled || props.readonly) return\n        rating.value = normalizedValue.value === value && props.clearable ? 0 : value\n      }\n\n      return {\n        onMouseenter: props.hover ? onMouseenter : undefined,\n        onMouseleave: props.hover ? onMouseleave : undefined,\n        onClick,\n      }\n    }))\n\n    const uid = useId()\n    const name = computed(() => props.name ?? `v-rating-${uid}`)\n\n    function VRatingItem ({ value, index, showStar = true }: { value: number, index: number, showStar?: boolean }) {\n      const { onMouseenter, onMouseleave, onClick } = eventState.value[index + 1]\n      const id = `${name.value}-${String(value).replace('.', '-')}`\n      const btnProps = {\n        color: itemState.value[index]?.color,\n        density: props.density,\n        disabled: props.disabled,\n        icon: itemState.value[index]?.icon,\n        ripple: props.ripple,\n        size: props.size,\n        variant: 'plain' as Variant,\n      }\n\n      return (\n        <>\n          <label\n            for={ id }\n            class={{\n              'v-rating__item--half': props.halfIncrements && value % 1 > 0,\n              'v-rating__item--full': props.halfIncrements && value % 1 === 0,\n            }}\n            onMouseenter={ onMouseenter }\n            onMouseleave={ onMouseleave }\n            onClick={ onClick }\n          >\n            <span class=\"v-rating__hidden\">{ t(props.itemAriaLabel, value, props.length) }</span>\n            {\n              !showStar ? undefined\n              : slots.item ? slots.item({\n                ...itemState.value[index],\n                props: btnProps,\n                value,\n                index,\n                rating: normalizedValue.value,\n              })\n              : (\n                <VBtn\n                  aria-label={ t(props.itemAriaLabel, value, props.length) }\n                  { ...btnProps }\n                />\n              )\n            }\n          </label>\n\n          <input\n            class=\"v-rating__hidden\"\n            name={ name.value }\n            id={ id }\n            type=\"radio\"\n            value={ value }\n            checked={ normalizedValue.value === value }\n            tabindex={ -1 }\n            readonly={ props.readonly }\n            disabled={ props.disabled }\n          />\n        </>\n      )\n    }\n\n    function createLabel (labelProps: { value: number, index: number, label?: string }) {\n      if (slots['item-label']) return slots['item-label'](labelProps)\n\n      if (labelProps.label) return <span>{ labelProps.label }</span>\n\n      return <span>&nbsp;</span>\n    }\n\n    useRender(() => {\n      const hasLabels = !!props.itemLabels?.length || slots['item-label']\n\n      return (\n        <props.tag\n          class={[\n            'v-rating',\n            {\n              'v-rating--hover': props.hover,\n              'v-rating--readonly': props.readonly,\n            },\n            themeClasses.value,\n            props.class,\n          ]}\n          style={ props.style }\n        >\n          <VRatingItem value={ 0 } index={ -1 } showStar={ false } />\n\n          { range.value.map((value, i) => (\n            <div class=\"v-rating__wrapper\">\n              {\n                hasLabels && props.itemLabelPosition === 'top'\n                  ? createLabel({ value, index: i, label: props.itemLabels?.[i] })\n                  : undefined\n              }\n              <div class=\"v-rating__item\">\n                { props.halfIncrements ? (\n                  <>\n                    <VRatingItem value={ value - 0.5 } index={ i * 2 } />\n                    <VRatingItem value={ value } index={ (i * 2) + 1 } />\n                  </>\n                ) : (\n                  <VRatingItem value={ value } index={ i } />\n                )}\n              </div>\n              {\n                hasLabels && props.itemLabelPosition === 'bottom'\n                  ? createLabel({ value, index: i, label: props.itemLabels?.[i] })\n                  : undefined\n              }\n            </div>\n          ))}\n        </props.tag>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VRating = InstanceType<typeof VRating>\n"]},"metadata":{},"sourceType":"module"}