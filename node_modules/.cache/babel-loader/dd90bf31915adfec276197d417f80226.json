{"ast":null,"code":"import { Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\"; // Components\n\nimport { makeDataTableProps } from \"./VDataTable.js\";\nimport { makeVDataTableFooterProps, VDataTableFooter } from \"./VDataTableFooter.js\";\nimport { VDataTableHeaders } from \"./VDataTableHeaders.js\";\nimport { VDataTableRows } from \"./VDataTableRows.js\";\nimport { VDivider } from \"../VDivider/index.js\";\nimport { VTable } from \"../VTable/index.js\"; // Composables\n\nimport { provideExpanded } from \"./composables/expand.js\";\nimport { createGroupBy, provideGroupBy, useGroupedItems } from \"./composables/group.js\";\nimport { createHeaders } from \"./composables/headers.js\";\nimport { useDataTableItems } from \"./composables/items.js\";\nimport { useOptions } from \"./composables/options.js\";\nimport { createPagination, makeDataTablePaginateProps, providePagination } from \"./composables/paginate.js\";\nimport { provideSelection } from \"./composables/select.js\";\nimport { createSort, provideSort } from \"./composables/sort.js\";\nimport { provideDefaults } from \"../../composables/defaults.js\"; // Utilities\n\nimport { computed, provide, toRef, toRefs } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.js\"; // Types\n\nexport const makeVDataTableServerProps = propsFactory({\n  itemsLength: {\n    type: [Number, String],\n    required: true\n  },\n  ...makeDataTablePaginateProps(),\n  ...makeDataTableProps(),\n  ...makeVDataTableFooterProps()\n}, 'VDataTableServer');\nexport const VDataTableServer = genericComponent()({\n  name: 'VDataTableServer',\n  props: makeVDataTableServerProps(),\n  emits: {\n    'update:modelValue': value => true,\n    'update:page': page => true,\n    'update:itemsPerPage': page => true,\n    'update:sortBy': sortBy => true,\n    'update:options': options => true,\n    'update:expanded': options => true,\n    'update:groupBy': value => true\n  },\n\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      groupBy\n    } = createGroupBy(props);\n    const {\n      sortBy,\n      multiSort,\n      mustSort\n    } = createSort(props);\n    const {\n      page,\n      itemsPerPage\n    } = createPagination(props);\n    const {\n      disableSort\n    } = toRefs(props);\n    const itemsLength = computed(() => parseInt(props.itemsLength, 10));\n    const {\n      columns,\n      headers\n    } = createHeaders(props, {\n      groupBy,\n      showSelect: toRef(props, 'showSelect'),\n      showExpand: toRef(props, 'showExpand')\n    });\n    const {\n      items\n    } = useDataTableItems(props, columns);\n    const {\n      toggleSort\n    } = provideSort({\n      sortBy,\n      multiSort,\n      mustSort,\n      page\n    });\n    const {\n      opened,\n      isGroupOpen,\n      toggleGroup,\n      extractRows\n    } = provideGroupBy({\n      groupBy,\n      sortBy,\n      disableSort\n    });\n    const {\n      pageCount,\n      setItemsPerPage\n    } = providePagination({\n      page,\n      itemsPerPage,\n      itemsLength\n    });\n    const {\n      flatItems\n    } = useGroupedItems(items, groupBy, opened);\n    const {\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      someSelected,\n      allSelected\n    } = provideSelection(props, {\n      allItems: items,\n      currentPage: items\n    });\n    const {\n      isExpanded,\n      toggleExpand\n    } = provideExpanded(props);\n    const itemsWithoutGroups = computed(() => extractRows(items.value));\n    useOptions({\n      page,\n      itemsPerPage,\n      sortBy,\n      groupBy,\n      search: toRef(props, 'search')\n    });\n    provide('v-data-table', {\n      toggleSort,\n      sortBy\n    });\n    provideDefaults({\n      VDataTableRows: {\n        hideNoData: toRef(props, 'hideNoData'),\n        noDataText: toRef(props, 'noDataText'),\n        loading: toRef(props, 'loading'),\n        loadingText: toRef(props, 'loadingText')\n      }\n    });\n    const slotProps = computed(() => ({\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      pageCount: pageCount.value,\n      toggleSort,\n      setItemsPerPage,\n      someSelected: someSelected.value,\n      allSelected: allSelected.value,\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      isExpanded,\n      toggleExpand,\n      isGroupOpen,\n      toggleGroup,\n      items: itemsWithoutGroups.value.map(item => item.raw),\n      internalItems: itemsWithoutGroups.value,\n      groupedItems: flatItems.value,\n      columns: columns.value,\n      headers: headers.value\n    }));\n    useRender(() => {\n      const dataTableFooterProps = VDataTableFooter.filterProps(props);\n      const dataTableHeadersProps = VDataTableHeaders.filterProps(props);\n      const dataTableRowsProps = VDataTableRows.filterProps(props);\n      const tableProps = VTable.filterProps(props);\n      return _createVNode(VTable, _mergeProps({\n        \"class\": ['v-data-table', {\n          'v-data-table--loading': props.loading\n        }, props.class],\n        \"style\": props.style\n      }, tableProps, {\n        \"fixedHeader\": props.fixedHeader || props.sticky\n      }), {\n        top: () => slots.top?.(slotProps.value),\n        default: () => slots.default ? slots.default(slotProps.value) : _createVNode(_Fragment, null, [slots.colgroup?.(slotProps.value), !props.hideDefaultHeader && _createVNode(\"thead\", {\n          \"key\": \"thead\",\n          \"class\": \"v-data-table__thead\",\n          \"role\": \"rowgroup\"\n        }, [_createVNode(VDataTableHeaders, dataTableHeadersProps, slots)]), slots.thead?.(slotProps.value), !props.hideDefaultBody && _createVNode(\"tbody\", {\n          \"class\": \"v-data-table__tbody\",\n          \"role\": \"rowgroup\"\n        }, [slots['body.prepend']?.(slotProps.value), slots.body ? slots.body(slotProps.value) : _createVNode(VDataTableRows, _mergeProps(attrs, dataTableRowsProps, {\n          \"items\": flatItems.value\n        }), slots), slots['body.append']?.(slotProps.value)]), slots.tbody?.(slotProps.value), slots.tfoot?.(slotProps.value)]),\n        bottom: () => slots.bottom ? slots.bottom(slotProps.value) : !props.hideDefaultFooter && _createVNode(_Fragment, null, [_createVNode(VDivider, null, null), _createVNode(VDataTableFooter, dataTableFooterProps, {\n          prepend: slots['footer.prepend']\n        })])\n      });\n    });\n  }\n\n});","map":{"version":3,"mappings":"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","names":["makeDataTableProps","makeVDataTableFooterProps","VDataTableFooter","VDataTableHeaders","VDataTableRows","VDivider","VTable","provideExpanded","createGroupBy","provideGroupBy","useGroupedItems","createHeaders","useDataTableItems","useOptions","createPagination","makeDataTablePaginateProps","providePagination","provideSelection","createSort","provideSort","provideDefaults","computed","provide","toRef","toRefs","genericComponent","propsFactory","useRender","makeVDataTableServerProps","itemsLength","type","Number","String","required","VDataTableServer","name","props","emits","value","page","sortBy","options","setup","_ref","attrs","slots","groupBy","multiSort","mustSort","itemsPerPage","disableSort","parseInt","columns","headers","showSelect","showExpand","items","toggleSort","opened","isGroupOpen","toggleGroup","extractRows","pageCount","setItemsPerPage","flatItems","isSelected","select","selectAll","toggleSelect","someSelected","allSelected","allItems","currentPage","isExpanded","toggleExpand","itemsWithoutGroups","search","hideNoData","noDataText","loading","loadingText","slotProps","map","item","raw","internalItems","groupedItems","dataTableFooterProps","filterProps","dataTableHeadersProps","dataTableRowsProps","tableProps","class","style","fixedHeader","sticky","top","default","_createVNode","colgroup","hideDefaultHeader","thead","hideDefaultBody","body","tbody","tfoot","bottom","hideDefaultFooter","prepend"],"sources":["../../../src/components/VDataTable/VDataTableServer.tsx"],"sourcesContent":["// Components\nimport { makeDataTableProps } from './VDataTable'\nimport { makeVDataTableFooterProps, VDataTableFooter } from './VDataTableFooter'\nimport { VDataTableHeaders } from './VDataTableHeaders'\nimport { VDataTableRows } from './VDataTableRows'\nimport { VDivider } from '@/components/VDivider'\nimport { VTable } from '@/components/VTable'\n\n// Composables\nimport { provideExpanded } from './composables/expand'\nimport { createGroupBy, provideGroupBy, useGroupedItems } from './composables/group'\nimport { createHeaders } from './composables/headers'\nimport { useDataTableItems } from './composables/items'\nimport { useOptions } from './composables/options'\nimport { createPagination, makeDataTablePaginateProps, providePagination } from './composables/paginate'\nimport { provideSelection } from './composables/select'\nimport { createSort, provideSort } from './composables/sort'\nimport { provideDefaults } from '@/composables/defaults'\n\n// Utilities\nimport { computed, provide, toRef, toRefs } from 'vue'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VDataTableSlotProps, VDataTableSlots } from './VDataTable'\nimport type { CellProps, RowProps } from '@/components/VDataTable/types'\nimport type { GenericProps, SelectItemKey } from '@/util'\n\nexport const makeVDataTableServerProps = propsFactory({\n  itemsLength: {\n    type: [Number, String],\n    required: true,\n  },\n\n  ...makeDataTablePaginateProps(),\n  ...makeDataTableProps(),\n  ...makeVDataTableFooterProps(),\n}, 'VDataTableServer')\n\ntype ItemType<T> = T extends readonly (infer U)[] ? U : never\n\nexport const VDataTableServer = genericComponent<new <T extends readonly any[], V>(\n  props: {\n    items?: T\n    itemValue?: SelectItemKey<ItemType<T>>\n    rowProps?: RowProps<ItemType<T>>\n    cellProps?: CellProps<ItemType<T>>\n    itemSelectable?: SelectItemKey<ItemType<T>>\n    modelValue?: V\n    'onUpdate:modelValue'?: (value: V) => void\n  },\n  slots: VDataTableSlots<ItemType<T>>,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VDataTableServer',\n\n  props: makeVDataTableServerProps(),\n\n  emits: {\n    'update:modelValue': (value: any[]) => true,\n    'update:page': (page: number) => true,\n    'update:itemsPerPage': (page: number) => true,\n    'update:sortBy': (sortBy: any) => true,\n    'update:options': (options: any) => true,\n    'update:expanded': (options: any) => true,\n    'update:groupBy': (value: any) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const { groupBy } = createGroupBy(props)\n    const { sortBy, multiSort, mustSort } = createSort(props)\n    const { page, itemsPerPage } = createPagination(props)\n    const { disableSort } = toRefs(props)\n    const itemsLength = computed(() => parseInt(props.itemsLength, 10))\n\n    const { columns, headers } = createHeaders(props, {\n      groupBy,\n      showSelect: toRef(props, 'showSelect'),\n      showExpand: toRef(props, 'showExpand'),\n    })\n\n    const { items } = useDataTableItems(props, columns)\n\n    const { toggleSort } = provideSort({ sortBy, multiSort, mustSort, page })\n\n    const { opened, isGroupOpen, toggleGroup, extractRows } = provideGroupBy({ groupBy, sortBy, disableSort })\n\n    const { pageCount, setItemsPerPage } = providePagination({ page, itemsPerPage, itemsLength })\n\n    const { flatItems } = useGroupedItems(items, groupBy, opened)\n\n    const { isSelected, select, selectAll, toggleSelect, someSelected, allSelected } = provideSelection(props, {\n      allItems: items,\n      currentPage: items,\n    })\n\n    const { isExpanded, toggleExpand } = provideExpanded(props)\n\n    const itemsWithoutGroups = computed(() => extractRows(items.value))\n\n    useOptions({\n      page,\n      itemsPerPage,\n      sortBy,\n      groupBy,\n      search: toRef(props, 'search'),\n    })\n\n    provide('v-data-table', {\n      toggleSort,\n      sortBy,\n    })\n\n    provideDefaults({\n      VDataTableRows: {\n        hideNoData: toRef(props, 'hideNoData'),\n        noDataText: toRef(props, 'noDataText'),\n        loading: toRef(props, 'loading'),\n        loadingText: toRef(props, 'loadingText'),\n      },\n    })\n\n    const slotProps = computed<VDataTableSlotProps<any>>(() => ({\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      pageCount: pageCount.value,\n      toggleSort,\n      setItemsPerPage,\n      someSelected: someSelected.value,\n      allSelected: allSelected.value,\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      isExpanded,\n      toggleExpand,\n      isGroupOpen,\n      toggleGroup,\n      items: itemsWithoutGroups.value.map(item => item.raw),\n      internalItems: itemsWithoutGroups.value,\n      groupedItems: flatItems.value,\n      columns: columns.value,\n      headers: headers.value,\n    }))\n\n    useRender(() => {\n      const dataTableFooterProps = VDataTableFooter.filterProps(props)\n      const dataTableHeadersProps = VDataTableHeaders.filterProps(props)\n      const dataTableRowsProps = VDataTableRows.filterProps(props)\n      const tableProps = VTable.filterProps(props)\n\n      return (\n        <VTable\n          class={[\n            'v-data-table',\n            {\n              'v-data-table--loading': props.loading,\n            },\n            props.class,\n          ]}\n          style={ props.style }\n          { ...tableProps }\n          fixedHeader={ props.fixedHeader || props.sticky }\n        >\n          {{\n            top: () => slots.top?.(slotProps.value),\n            default: () => slots.default ? slots.default(slotProps.value) : (\n              <>\n                { slots.colgroup?.(slotProps.value) }\n                { !props.hideDefaultHeader && (\n                  <thead key=\"thead\" class=\"v-data-table__thead\" role=\"rowgroup\">\n                    <VDataTableHeaders\n                      { ...dataTableHeadersProps }\n                      v-slots={ slots }\n                    />\n                  </thead>\n                )}\n                { slots.thead?.(slotProps.value) }\n                { !props.hideDefaultBody && (\n                  <tbody class=\"v-data-table__tbody\" role=\"rowgroup\">\n                    { slots['body.prepend']?.(slotProps.value) }\n                    { slots.body ? slots.body(slotProps.value) : (\n                      <VDataTableRows\n                        { ...attrs }\n                        { ...dataTableRowsProps }\n                        items={ flatItems.value }\n                        v-slots={ slots }\n                      />\n                    )}\n                    { slots['body.append']?.(slotProps.value) }\n                  </tbody>\n                )}\n                { slots.tbody?.(slotProps.value) }\n                { slots.tfoot?.(slotProps.value) }\n              </>\n            ),\n            bottom: () => slots.bottom ? slots.bottom(slotProps.value) : !props.hideDefaultFooter && (\n              <>\n                <VDivider />\n\n                <VDataTableFooter\n                  { ...dataTableFooterProps }\n                  v-slots={{\n                    prepend: slots['footer.prepend'],\n                  }}\n                />\n              </>\n            ),\n          }}\n        </VTable>\n      )\n    })\n  },\n})\n\nexport type VDataTableServer = InstanceType<typeof VDataTableServer>\n"]},"metadata":{},"sourceType":"module"}