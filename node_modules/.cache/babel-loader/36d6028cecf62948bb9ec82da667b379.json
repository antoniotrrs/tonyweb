{"ast":null,"code":"import _objectSpread from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\"; // Styles\n\nimport \"./VSkeletonLoader.css\"; // Composables\n\nimport { useBackgroundColor } from \"../../composables/color.js\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.js\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.js\";\nimport { useLocale } from \"../../composables/locale.js\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.js\"; // Utilities\n\nimport { computed, toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender, wrapInArray } from \"../../util/index.js\"; // Types\n\nexport var rootTypes = {\n  actions: 'button@2',\n  article: 'heading, paragraph',\n  avatar: 'avatar',\n  button: 'button',\n  card: 'image, heading',\n  'card-avatar': 'image, list-item-avatar',\n  chip: 'chip',\n  'date-picker': 'list-item, heading, divider, date-picker-options, date-picker-days, actions',\n  'date-picker-options': 'text, avatar@2',\n  'date-picker-days': 'avatar@28',\n  divider: 'divider',\n  heading: 'heading',\n  image: 'image',\n  'list-item': 'text',\n  'list-item-avatar': 'avatar, text',\n  'list-item-two-line': 'sentences',\n  'list-item-avatar-two-line': 'avatar, sentences',\n  'list-item-three-line': 'paragraph',\n  'list-item-avatar-three-line': 'avatar, paragraph',\n  ossein: 'ossein',\n  paragraph: 'text@3',\n  sentences: 'text@2',\n  subtitle: 'text',\n  table: 'table-heading, table-thead, table-tbody, table-tfoot',\n  'table-heading': 'chip, text',\n  'table-thead': 'heading@6',\n  'table-tbody': 'table-row-divider@6',\n  'table-row-divider': 'table-row, divider',\n  'table-row': 'text@6',\n  'table-tfoot': 'text@2, avatar@2',\n  text: 'text'\n};\n\nfunction genBone(type) {\n  var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return _createVNode(\"div\", {\n    \"class\": ['v-skeleton-loader__bone', \"v-skeleton-loader__\".concat(type)]\n  }, [children]);\n}\n\nfunction genBones(bone) {\n  // e.g. 'text@3'\n  var _bone$split = bone.split('@'),\n      _bone$split2 = _slicedToArray(_bone$split, 2),\n      type = _bone$split2[0],\n      length = _bone$split2[1]; // Generate a length array based upon\n  // value after @ in the bone string\n\n\n  return Array.from({\n    length: length\n  }).map(function () {\n    return genStructure(type);\n  });\n}\n\nfunction genStructure(type) {\n  var children = [];\n  if (!type) return children; // TODO: figure out a better way to type this\n\n  var bone = rootTypes[type]; // End of recursion, do nothing\n\n  /* eslint-disable-next-line no-empty, brace-style */\n\n  if (type === bone) {} // Array of values - e.g. 'heading, paragraph, text@2'\n  else if (type.includes(',')) return mapBones(type); // Array of values - e.g. 'paragraph@4'\n  else if (type.includes('@')) return genBones(type); // Array of values - e.g. 'card@2'\n  else if (bone.includes(',')) children = mapBones(bone); // Array of values - e.g. 'list-item@2'\n  else if (bone.includes('@')) children = genBones(bone); // Single value - e.g. 'card-heading'\n  else if (bone) children.push(genStructure(bone));\n\n  return [genBone(type, children)];\n}\n\nfunction mapBones(bones) {\n  // Remove spaces and return array of structures\n  return bones.replace(/\\s/g, '').split(',').map(genStructure);\n}\n\nexport var makeVSkeletonLoaderProps = propsFactory(_objectSpread(_objectSpread(_objectSpread({\n  boilerplate: Boolean,\n  color: String,\n  loading: Boolean,\n  loadingText: {\n    type: String,\n    default: '$vuetify.loading'\n  },\n  type: {\n    type: [String, Array],\n    default: 'ossein'\n  }\n}, makeDimensionProps()), makeElevationProps()), makeThemeProps()), 'VSkeletonLoader');\nexport var VSkeletonLoader = genericComponent()({\n  name: 'VSkeletonLoader',\n  props: makeVSkeletonLoaderProps(),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useBackgroundColor = useBackgroundColor(toRef(props, 'color')),\n        backgroundColorClasses = _useBackgroundColor.backgroundColorClasses,\n        backgroundColorStyles = _useBackgroundColor.backgroundColorStyles;\n\n    var _useDimension = useDimension(props),\n        dimensionStyles = _useDimension.dimensionStyles;\n\n    var _useElevation = useElevation(props),\n        elevationClasses = _useElevation.elevationClasses;\n\n    var _provideTheme = provideTheme(props),\n        themeClasses = _provideTheme.themeClasses;\n\n    var _useLocale = useLocale(),\n        t = _useLocale.t;\n\n    var items = computed(function () {\n      return genStructure(wrapInArray(props.type).join(','));\n    });\n    useRender(function () {\n      var _slots$default;\n\n      var isLoading = !slots.default || props.loading;\n      var loadingProps = props.boilerplate || !isLoading ? {} : {\n        ariaLive: 'polite',\n        ariaLabel: t(props.loadingText),\n        role: 'alert'\n      };\n      return _createVNode(\"div\", _mergeProps({\n        \"class\": ['v-skeleton-loader', {\n          'v-skeleton-loader--boilerplate': props.boilerplate\n        }, themeClasses.value, backgroundColorClasses.value, elevationClasses.value],\n        \"style\": [backgroundColorStyles.value, isLoading ? dimensionStyles.value : {}]\n      }, loadingProps), [isLoading ? items.value : (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots)]);\n    });\n    return {};\n  }\n});","map":{"version":3,"mappings":"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","names":["useBackgroundColor","makeDimensionProps","useDimension","makeElevationProps","useElevation","useLocale","makeThemeProps","provideTheme","computed","toRef","genericComponent","propsFactory","useRender","wrapInArray","rootTypes","actions","article","avatar","button","card","chip","divider","heading","image","ossein","paragraph","sentences","subtitle","table","text","genBone","type","children","genBones","bone","split","length","Array","from","map","genStructure","includes","mapBones","push","bones","replace","makeVSkeletonLoaderProps","boilerplate","Boolean","color","String","loading","loadingText","default","VSkeletonLoader","name","props","setup","_ref","slots","backgroundColorClasses","backgroundColorStyles","dimensionStyles","elevationClasses","themeClasses","t","items","join","isLoading","loadingProps","ariaLive","ariaLabel","role","value"],"sources":["../../../src/components/VSkeletonLoader/VSkeletonLoader.tsx"],"sourcesContent":["// Styles\nimport './VSkeletonLoader.sass'\n\n// Composables\nimport { useBackgroundColor } from '@/composables/color'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { useLocale } from '@/composables/locale'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { genericComponent, propsFactory, useRender, wrapInArray } from '@/util'\n\n// Types\nimport type { PropType, VNode } from 'vue'\n\ntype VSkeletonBone<T> = T | VSkeletonBone<T>[]\n\nexport type VSkeletonBones = VSkeletonBone<VNode>\nexport type VSkeletonLoaderType = keyof typeof rootTypes\n\nexport const rootTypes = {\n  actions: 'button@2',\n  article: 'heading, paragraph',\n  avatar: 'avatar',\n  button: 'button',\n  card: 'image, heading',\n  'card-avatar': 'image, list-item-avatar',\n  chip: 'chip',\n  'date-picker': 'list-item, heading, divider, date-picker-options, date-picker-days, actions',\n  'date-picker-options': 'text, avatar@2',\n  'date-picker-days': 'avatar@28',\n  divider: 'divider',\n  heading: 'heading',\n  image: 'image',\n  'list-item': 'text',\n  'list-item-avatar': 'avatar, text',\n  'list-item-two-line': 'sentences',\n  'list-item-avatar-two-line': 'avatar, sentences',\n  'list-item-three-line': 'paragraph',\n  'list-item-avatar-three-line': 'avatar, paragraph',\n  ossein: 'ossein',\n  paragraph: 'text@3',\n  sentences: 'text@2',\n  subtitle: 'text',\n  table: 'table-heading, table-thead, table-tbody, table-tfoot',\n  'table-heading': 'chip, text',\n  'table-thead': 'heading@6',\n  'table-tbody': 'table-row-divider@6',\n  'table-row-divider': 'table-row, divider',\n  'table-row': 'text@6',\n  'table-tfoot': 'text@2, avatar@2',\n  text: 'text',\n} as const\n\nfunction genBone (type: string, children: VSkeletonBones = []) {\n  return (\n    <div\n      class={[\n        'v-skeleton-loader__bone',\n        `v-skeleton-loader__${type}`,\n      ]}\n    >\n      { children }\n    </div>\n  )\n}\n\nfunction genBones (bone: string) {\n  // e.g. 'text@3'\n  const [type, length] = bone.split('@') as [VSkeletonLoaderType, number]\n\n  // Generate a length array based upon\n  // value after @ in the bone string\n  return Array.from({ length }).map(() => genStructure(type))\n}\n\nfunction genStructure (type?: string): VSkeletonBones {\n  let children: VSkeletonBones = []\n\n  if (!type) return children\n\n  // TODO: figure out a better way to type this\n  const bone = (rootTypes as Record<string, string>)[type]\n\n  // End of recursion, do nothing\n  /* eslint-disable-next-line no-empty, brace-style */\n  if (type === bone) {}\n  // Array of values - e.g. 'heading, paragraph, text@2'\n  else if (type.includes(',')) return mapBones(type)\n  // Array of values - e.g. 'paragraph@4'\n  else if (type.includes('@')) return genBones(type)\n  // Array of values - e.g. 'card@2'\n  else if (bone.includes(',')) children = mapBones(bone)\n  // Array of values - e.g. 'list-item@2'\n  else if (bone.includes('@')) children = genBones(bone)\n  // Single value - e.g. 'card-heading'\n  else if (bone) children.push(genStructure(bone))\n\n  return [genBone(type, children)]\n}\n\nfunction mapBones (bones: string) {\n  // Remove spaces and return array of structures\n  return bones.replace(/\\s/g, '').split(',').map(genStructure)\n}\n\nexport const makeVSkeletonLoaderProps = propsFactory({\n  boilerplate: Boolean,\n  color: String,\n  loading: Boolean,\n  loadingText: {\n    type: String,\n    default: '$vuetify.loading',\n  },\n  type: {\n    type: [String, Array] as PropType<\n      | VSkeletonLoaderType | (string & {})\n      | ReadonlyArray<VSkeletonLoaderType | (string & {})>\n    >,\n    default: 'ossein',\n  },\n\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  ...makeThemeProps(),\n}, 'VSkeletonLoader')\n\nexport const VSkeletonLoader = genericComponent()({\n  name: 'VSkeletonLoader',\n\n  props: makeVSkeletonLoaderProps(),\n\n  setup (props, { slots }) {\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(toRef(props, 'color'))\n    const { dimensionStyles } = useDimension(props)\n    const { elevationClasses } = useElevation(props)\n    const { themeClasses } = provideTheme(props)\n    const { t } = useLocale()\n\n    const items = computed(() => genStructure(wrapInArray(props.type).join(',')))\n\n    useRender(() => {\n      const isLoading = !slots.default || props.loading\n      const loadingProps = (props.boilerplate || !isLoading) ? {} : {\n        ariaLive: 'polite',\n        ariaLabel: t(props.loadingText),\n        role: 'alert',\n      }\n\n      return (\n        <div\n          class={[\n            'v-skeleton-loader',\n            {\n              'v-skeleton-loader--boilerplate': props.boilerplate,\n            },\n            themeClasses.value,\n            backgroundColorClasses.value,\n            elevationClasses.value,\n          ]}\n          style={[\n            backgroundColorStyles.value,\n            isLoading ? dimensionStyles.value : {},\n          ]}\n          { ...loadingProps }\n        >\n          { isLoading ? items.value : slots.default?.() }\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VSkeletonLoader = InstanceType<typeof VSkeletonLoader>\n"]},"metadata":{},"sourceType":"module"}