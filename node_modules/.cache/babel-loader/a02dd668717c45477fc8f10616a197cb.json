{"ast":null,"code":"import _objectSpread from \"/Users/antoniotorres/Documents/tony/tonyweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { createVNode as _createVNode } from \"vue\"; // Styles\n\nimport \"./VIcon.css\"; // Composables\n\nimport { useTextColor } from \"../../composables/color.js\";\nimport { makeComponentProps } from \"../../composables/component.js\";\nimport { IconValue, useIcon } from \"../../composables/icons.js\";\nimport { makeSizeProps, useSize } from \"../../composables/size.js\";\nimport { makeTagProps } from \"../../composables/tag.js\";\nimport { makeThemeProps, useTheme } from \"../../composables/theme.js\"; // Utilities\n\nimport { computed, ref, Text, toRef } from 'vue';\nimport { convertToUnit, flattenFragments, genericComponent, propsFactory, useRender } from \"../../util/index.js\";\nexport var makeVIconProps = propsFactory(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n  color: String,\n  disabled: Boolean,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  opacity: [String, Number]\n}, makeComponentProps()), makeSizeProps()), makeTagProps({\n  tag: 'i'\n})), makeThemeProps()), 'VIcon');\nexport var VIcon = genericComponent()({\n  name: 'VIcon',\n  props: makeVIconProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots;\n    var slotIcon = ref();\n\n    var _useTheme = useTheme(),\n        themeClasses = _useTheme.themeClasses;\n\n    var _useIcon = useIcon(computed(function () {\n      return slotIcon.value || props.icon;\n    })),\n        iconData = _useIcon.iconData;\n\n    var _useSize = useSize(props),\n        sizeClasses = _useSize.sizeClasses;\n\n    var _useTextColor = useTextColor(toRef(props, 'color')),\n        textColorClasses = _useTextColor.textColorClasses,\n        textColorStyles = _useTextColor.textColorStyles;\n\n    useRender(function () {\n      var _slots$default;\n\n      var slotValue = (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots);\n\n      if (slotValue) {\n        var _flattenFragments$fil;\n\n        slotIcon.value = (_flattenFragments$fil = flattenFragments(slotValue).filter(function (node) {\n          return node.type === Text && node.children && typeof node.children === 'string';\n        })[0]) === null || _flattenFragments$fil === void 0 ? void 0 : _flattenFragments$fil.children;\n      }\n\n      var hasClick = !!(attrs.onClick || attrs.onClickOnce);\n      return _createVNode(iconData.value.component, {\n        \"tag\": props.tag,\n        \"icon\": iconData.value.icon,\n        \"class\": ['v-icon', 'notranslate', themeClasses.value, sizeClasses.value, textColorClasses.value, {\n          'v-icon--clickable': hasClick,\n          'v-icon--disabled': props.disabled,\n          'v-icon--start': props.start,\n          'v-icon--end': props.end\n        }, props.class],\n        \"style\": [{\n          '--v-icon-opacity': props.opacity\n        }, !sizeClasses.value ? {\n          fontSize: convertToUnit(props.size),\n          height: convertToUnit(props.size),\n          width: convertToUnit(props.size)\n        } : undefined, textColorStyles.value, props.style],\n        \"role\": hasClick ? 'button' : undefined,\n        \"aria-hidden\": !hasClick,\n        \"tabindex\": hasClick ? props.disabled ? -1 : 0 : undefined\n      }, {\n        default: function _default() {\n          return [slotValue];\n        }\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"mappings":"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","names":["useTextColor","makeComponentProps","IconValue","useIcon","makeSizeProps","useSize","makeTagProps","makeThemeProps","useTheme","computed","ref","Text","toRef","convertToUnit","flattenFragments","genericComponent","propsFactory","useRender","makeVIconProps","color","String","disabled","Boolean","start","end","icon","opacity","Number","tag","VIcon","name","props","setup","_ref","attrs","slots","slotIcon","themeClasses","value","iconData","sizeClasses","textColorClasses","textColorStyles","slotValue","default","filter","node","type","children","hasClick","onClick","onClickOnce","class","fontSize","size","height","width","undefined","style"],"sources":["../../../src/components/VIcon/VIcon.tsx"],"sourcesContent":["// Styles\nimport './VIcon.sass'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\nimport { makeComponentProps } from '@/composables/component'\nimport { IconValue, useIcon } from '@/composables/icons'\nimport { makeSizeProps, useSize } from '@/composables/size'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, useTheme } from '@/composables/theme'\n\n// Utilities\nimport { computed, ref, Text, toRef } from 'vue'\nimport { convertToUnit, flattenFragments, genericComponent, propsFactory, useRender } from '@/util'\n\nexport const makeVIconProps = propsFactory({\n  color: String,\n  disabled: Boolean,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  opacity: [String, Number],\n\n  ...makeComponentProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({ tag: 'i' }),\n  ...makeThemeProps(),\n}, 'VIcon')\n\nexport const VIcon = genericComponent()({\n  name: 'VIcon',\n\n  props: makeVIconProps(),\n\n  setup (props, { attrs, slots }) {\n    const slotIcon = ref<string>()\n\n    const { themeClasses } = useTheme()\n    const { iconData } = useIcon(computed(() => slotIcon.value || props.icon))\n    const { sizeClasses } = useSize(props)\n    const { textColorClasses, textColorStyles } = useTextColor(toRef(props, 'color'))\n\n    useRender(() => {\n      const slotValue = slots.default?.()\n      if (slotValue) {\n        slotIcon.value = flattenFragments(slotValue).filter(node =>\n          node.type === Text && node.children && typeof node.children === 'string'\n        )[0]?.children as string\n      }\n      const hasClick = !!(attrs.onClick || attrs.onClickOnce)\n\n      return (\n        <iconData.value.component\n          tag={ props.tag }\n          icon={ iconData.value.icon }\n          class={[\n            'v-icon',\n            'notranslate',\n            themeClasses.value,\n            sizeClasses.value,\n            textColorClasses.value,\n            {\n              'v-icon--clickable': hasClick,\n              'v-icon--disabled': props.disabled,\n              'v-icon--start': props.start,\n              'v-icon--end': props.end,\n            },\n            props.class,\n          ]}\n          style={[\n            {\n              '--v-icon-opacity': props.opacity,\n            },\n            !sizeClasses.value ? ({\n              fontSize: convertToUnit(props.size),\n              height: convertToUnit(props.size),\n              width: convertToUnit(props.size),\n            }) : undefined,\n            textColorStyles.value,\n            props.style,\n          ]}\n          role={ hasClick ? 'button' : undefined }\n          aria-hidden={ !hasClick }\n          tabindex={ hasClick ? props.disabled ? -1 : 0 : undefined }\n        >\n          { slotValue }\n        </iconData.value.component>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VIcon = InstanceType<typeof VIcon>\n"]},"metadata":{},"sourceType":"module"}